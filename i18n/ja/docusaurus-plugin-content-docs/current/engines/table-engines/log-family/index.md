---
slug: /engines/table-engines/log-family/
sidebar_position: 20
sidebar_label:  ログファミリー
---

# ログエンジンファミリー

これらのエンジンは、多くの小さなテーブル（約100万行まで）を迅速に書き込み、その後全体を読み取る必要があるシナリオのために開発されました。

ファミリーのエンジン:

| ログエンジン                                                        |
|---------------------------------------------------------------------|
| [StripeLog](/engines/table-engines/log-family/stripelog.md) |
| [Log](/engines/table-engines/log-family/log.md)             |
| [TinyLog](/engines/table-engines/log-family/tinylog.md)     |

`Log`ファミリーのテーブルエンジンは、[HDFS](/engines/table-engines/mergetree-family/mergetree.md/#table_engine-mergetree-hdfs)または[S3](/engines/table-engines/mergetree-family/mergetree.md/#table_engine-mergetree-s3)分散ファイルシステムへのデータの保存が可能です。

:::warning このエンジンはログデータのためのものではありません。
名前に反して、*ログテーブルエンジンはログデータの保存を目的としていません。 迅速に書き込む必要がある小さなボリュームのためだけに使用されるべきです。
:::

## 共通プロパティ {#common-properties}

エンジン:

- ディスクにデータを保存します。

- 書き込み時にファイルの末尾にデータを追加します。

- 同時データアクセスのためのロックをサポートします。

    `INSERT`クエリの間、テーブルはロックされ、データの読み書きのための他のクエリはすべてテーブルのロック解除を待ちます。データ書き込みクエリがない場合、任意の数のデータ読み取りクエリを同時に実行できます。

- [ミューテーション](/sql-reference/statements/alter/index.md#alter-mutations)をサポートしていません。

- インデックスをサポートしていません。

    これは、データの範囲に対する`SELECT`クエリが効率的でないことを意味します。

- データを原子的に書き込むことはできません。

    書き込み操作を中断されると、壊れたデータを持つテーブルが得られる可能性があります。たとえば、異常なサーバーのシャットダウンなどです。

## 違い {#differences}

`TinyLog`エンジンはファミリーの中で最もシンプルで、機能が最も乏しく、効率も最も低いです。`TinyLog`エンジンは、単一のクエリで複数のスレッドによる並列データ読み取りをサポートしていません。そのため、他のエンジンと比較して、データの読み取りが遅く、各カラムを別々のファイルに保存するために`Log`エンジンとほぼ同じ数のファイルディスクリプタを使用します。シンプルなシナリオでのみ使用してください。

`Log`および`StripeLog`エンジンは、並列データ読み取りをサポートしています。データを読み取る際、ClickHouseは複数のスレッドを使用します。各スレッドは別々のデータブロックを処理します。`Log`エンジンは、テーブルの各カラムごとに別々のファイルを使用します。`StripeLog`はすべてのデータを1つのファイルに格納します。その結果、`StripeLog`エンジンはファイルディスクリプタの数が少なくなりますが、`Log`エンジンはデータ読み取りの効率が高くなります。
