---
'title': 'Postgres 生成列：注意事项和最佳实践'
'slug': '/integrations/clickpipes/postgres/generated_columns'
'description': '页面描述在使用 PostgreSQL 生成列的表时需要牢记的重要考虑事项'
---



在使用PostgreSQL的生成列时，特别是在被复制的表中，有一些重要的考虑事项。这些问题可能会影响复制过程和目标系统中的数据一致性。

## 生成列的问题 {#the-problem-with-generated-columns}

1. **未通过 `pgoutput` 发布:** 生成列不会通过 `pgoutput` 逻辑复制插件发布。这意味着，当您从PostgreSQL复制数据到另一个系统时，生成列的值不会包含在复制流中。

2. **主键问题:** 如果生成列是主键的一部分，可能会导致目标系统出现去重问题。由于生成列的值没有被复制，目标系统将没有必要的信息来正确识别和去重行。

## 最佳实践 {#best-practices}

为了解决这些限制，请考虑以下最佳实践：

1. **在目标系统上重新创建生成列:** 不要依赖复制过程来处理生成列，而是建议使用如dbt（数据构建工具）或其他数据转换机制在目标系统上重新创建这些列。

2. **避免在主键中使用生成列:** 在设计将被复制的表时，最好避免将生成列包含为主键的一部分。

## 即将推出的UI改进 {#upcoming-improvements-to-ui}

在即将发布的版本中，我们计划添加一个用户界面，以帮助用户完成以下任务：

1. **识别具有生成列的表:** 用户界面将具有识别包含生成列的表的功能。这将帮助用户了解哪些表受到此问题的影响。

2. **文档和最佳实践:** 用户界面将包括在复制表中使用生成列的最佳实践，包括如何避免常见陷阱的指导。
