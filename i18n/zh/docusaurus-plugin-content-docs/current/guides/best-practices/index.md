---
'slug': '/operations/overview'
'sidebar_label': '性能和优化概述'
'description': '性能和优化概述页面'
'title': '性能和优化'
---




# 性能与优化

本节包含有关如何提高 ClickHouse 性能的提示和最佳实践。我们建议用户在阅读本节之前先阅读 [核心概念](/parts)，该部分涵盖了改善性能所需的主要概念。

| 主题                                                                                         | 描述                                                                                                                                                                                                                                                                                                                                                       |
|----------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [查询优化指南](/optimize/query-optimization)                                        | 这是开始进行查询优化的好地方，本简单指南描述了如何使用不同的性能和优化技术来改善查询性能的常见场景。                                                                                                                                                                                                                                       |
| [主索引高级指南](/guides/best-practices/sparse-primary-indexes)                 | 深入探讨 ClickHouse 的索引，包括其与其他数据库系统的不同之处，ClickHouse 如何构建和使用表的稀疏主索引，以及在 ClickHouse 中索引的最佳实践。                                                                                                                                                                                                                       |
| [查询并行性](/optimize/query-parallelism)                                          | 解释了 ClickHouse 如何使用处理通道和 max_threads 设置对查询执行进行并行化。涵盖了数据如何在通道中分布，如何应用 max_threads，何时未完全使用以及如何使用 EXPLAIN 和跟踪日志检查执行情况。                                                                                                                                                             |
| [分区键](/optimize/partitioning-key)                                                | 深入探讨 ClickHouse 分区键优化。解释了如何选择合适的分区键可以显著提高查询性能，因为这使 ClickHouse 能够快速定位相关的数据片段。涵盖了选择高效分区键的最佳实践以及需要避免的潜在陷阱。                                                                                                                                                    |
| [数据跳过索引](/optimize/skipping-indexes)                                         | 解释数据跳过索引作为优化性能的一种方式。                                                                                                                                                                                                                                                                                                              |
| [PREWHERE 优化](/optimize/prewhere)                                                | 解释了 PREWHERE 如何通过避免读取不必要的列数据来减少 I/O。展示了它是如何自动应用的，过滤顺序是如何选择的，以及如何使用 EXPLAIN 和日志进行监控。                                                                                                                                                        |
| [批量插入](/optimize/bulk-inserts)                                                  | 解释了在 ClickHouse 中使用批量插入的好处。                                                                                                                                                                                                                                                                                                          |
| [异步插入](/optimize/asynchronous-inserts)                                         | 集中讨论 ClickHouse 的异步插入功能。它可能解释了异步插入如何工作（在服务器上对数据进行批处理以实现高效插入）及其好处（通过卸载插入处理提高性能）。它可能还涵盖了启用异步插入以及在 ClickHouse 环境中有效使用它们的注意事项。                                                            |
| [避免变更](/optimize/avoid-mutations)                                              | 讨论了在 ClickHouse 中避免变更（更新和删除）的重要性。建议使用仅追加插入以获得最佳性能，并提出处理数据变更的替代方法。                                                                                                                                                                          |
| [避免 Nullable 列](/optimize/avoid-nullable-columns)                               | 讨论了为什么您可能要避免 Nullable 列以节省空间并提高性能。演示了如何为列设置默认值。                                                                                                                                                                                                                   |
| [避免优化最终](/optimize/avoidoptimizefinal)                                        | 解释了 `OPTIMIZE TABLE ... FINAL` 查询资源密集型，并建议优化 ClickHouse 性能的替代方法。                                                                                                                                                                                                                     |
| [分析器](/operations/analyzer)                                                       | 研究 ClickHouse 分析器，一个用于分析和优化查询的工具。讨论了分析器的工作原理，它的好处（例如，识别性能瓶颈），以及如何使用它来提高 ClickHouse 查询的效率。                                                                                                                                                       |
| [查询分析](/operations/optimizing-performance/sampling-query-profiler)             | 解释了 ClickHouse 的采样查询分析器，一个有助于分析查询执行的工具。                                                                                                                                                                                                                                                                                     |
| [查询缓存](/operations/query-cache)                                                  | 详细介绍了 ClickHouse 的查询缓存，这是一个旨在通过缓存频繁执行的 `SELECT` 查询结果来提高性能的功能。                                                                                                                                                                                                                                  |
| [测试硬件](/operations/performance-test)                                            | 如何在任何服务器上运行基本的 ClickHouse 性能测试，而无需安装 ClickHouse 软件包。（不适用于 ClickHouse Cloud）                                                                                                                                                                                                                                |
