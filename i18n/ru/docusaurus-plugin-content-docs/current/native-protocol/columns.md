---
slug: /native-protocol/columns
sidebar_position: 4
title: 'Типы колонок'
description: 'Типы колонок для нативного протокола'
---


# Типы колонок

Смотрите [Типы данных](/sql-reference/data-types/) для общего справочника.

## Числовые типы {#numeric-types}

:::tip

Кодирование числовых типов соответствует расположению в памяти на процессорах little endian, таких как AMD64 или ARM64.

Это позволяет реализовать очень эффективное кодирование и декодирование.

:::

### Целые числа {#integers}

Строка Int и UInt длиной 8, 16, 32, 64, 128 или 256 бит, в формате little endian.

### Вещественные числа {#floats}

Float32 и Float64 в двоичном представлении IEEE 754.

## Строка {#string}

Просто массив строк, т.е. (len, value).

## FixedString(N) {#fixedstringn}

Массив последовательностей длиной N байт.

## IP {#ip}

IPv4 является псевдонимом для числового типа `UInt32` и представлен как UInt32.

IPv6 является псевдонимом для `FixedString(16)` и представлен в двоичном виде напрямую.

## Кортеж {#tuple}

Кортеж – это просто массив колонок. Например, Tuple(String, UInt8) – это просто две колонки, закодированные последовательно.

## Карта {#map}

`Map(K, V)` состоит из трех колонок: `Offsets ColUInt64, Keys K, Values V`.

Количество строк в колонках `Keys` и `Values` соответствует последнему значению из `Offsets`.

## Массив {#array}

`Array(T)` состоит из двух колонок: `Offsets ColUInt64, Data T`.

Количество строк в `Data` соответствует последнему значению из `Offsets`.

## Nullable {#nullable}

`Nullable(T)` состоит из `Nulls ColUInt8, Values T` с одинаковым количеством строк.

```go
// Nulls – это "маска" для значений в колонке Values.
// Например, для кодирования [null, "", "hello", null, "world"]
//      Values: ["", "", "hello", "", "world"] (len: 5)
//      Nulls:  [ 1,  0,       0,  1,       0] (len: 5)
```

## UUID {#uuid}

Псевдоним для `FixedString(16)`, значение UUID представляется в двоичном виде.

## Enum {#enum}

Псевдоним для `Int8` или `Int16`, но каждое целое число сопоставлено с некоторым строковым значением.

## Низкая кардинальность {#low-cardinality}

`LowCardinality(T)` состоит из `Index T, Keys K`, где `K` является одним из (UInt8, UInt16, UInt32, UInt64) в зависимости от размера `Index`.

```go
// Колонка Index (т.е. словарь) содержит уникальные значения, колонка Keys содержит
// последовательность индексов в колонке Index, которые представляют фактические значения.
//
// Например, ["Eko", "Eko", "Amadela", "Amadela", "Amadela", "Amadela"] может
// быть закодирована как:
//      Index: ["Eko", "Amadela"] (String)
//      Keys:  [0, 0, 1, 1, 1, 1] (UInt8)
//
// CardinalityKey выбирается в зависимости от размера Index, т.е. максимальное значение
// выбранного типа должно быть способно представлять любой индекс элемента Index.
```

## Bool {#bool}

Псевдоним для `UInt8`, где `0` – это ложь, а `1` – истина.
