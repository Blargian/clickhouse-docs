---
title: 'Настройки формата'
sidebar_label: 'Настройки формата'
slug: /operations/settings/formats
toc_max_heading_level: 2
description: 'Настройки, контролирующие форматы ввода и вывода.'
---

import ExperimentalBadge from '@theme/badges/ExperimentalBadge';
import BetaBadge from '@theme/badges/BetaBadge';

<!-- Autogenerated -->
Эти настройки генерируются автоматически из [source](https://github.com/ClickHouse/ClickHouse/blob/master/src/Core/FormatFactorySettings.h).
## bool_false_representation {#bool_false_representation}   

|Тип|По умолчанию|
|---|---|
|`String`|`false`|

Текст для представления ложного булева значения в форматах TSV/CSV/Vertical/Pretty.
## bool_true_representation {#bool_true_representation}   

|Тип|По умолчанию|
|---|---|
|`String`|`true`|

Текст для представления истинного булева значения в форматах TSV/CSV/Vertical/Pretty.
## column_names_for_schema_inference {#column_names_for_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Список имен колонок для использования в выводе схемы для форматов без имен колонок. Формат: 'column1,column2,column3,...'
## cross_to_inner_join_rewrite {#cross_to_inner_join_rewrite}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1`|

Использовать внутреннее соединение вместо запятой/кросс-соединения, если в секции WHERE есть выражения для объединения. Значения: 0 - без переписывания, 1 - применять, если возможно для запятой/кросс, 2 - принудительное переписывание всех запятой, кросс - если возможно
## date_time_64_output_format_cut_trailing_zeros_align_to_groups_of_thousands {#date_time_64_output_format_cut_trailing_zeros_align_to_groups_of_thousands}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Динамически обрезать конечные нули значений datetime64, чтобы подогнать масштаб вывода к [0, 3, 6],
соответствующим 'секундам', 'миллисекундам' и 'микросекундам'
## date_time_input_format {#date_time_input_format}   

|Тип|По умолчанию|
|---|---|
|`DateTimeInputFormat`|`basic`|

Позволяет выбрать парсер текстового представления даты и времени.

Настройка не применяется к [функциям даты и времени](../../sql-reference/functions/date-time-functions.md).

Возможные значения:

- `'best_effort'` — Включает расширенный парсинг.

    ClickHouse может разбирать базовый формат `YYYY-MM-DD HH:MM:SS` и все форматы даты и времени [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601). Например, `'2018-06-08T01:02:03.000Z'`.

- `'basic'` — Использовать базовый парсер.

    ClickHouse может разбирать только базовый формат `YYYY-MM-DD HH:MM:SS` или `YYYY-MM-DD`. Например, `2019-08-20 10:18:56` или `2019-08-20`.

Значение по умолчанию для облака: `'best_effort'`.

Смотрите также:

- [Тип данных DateTime.](../../sql-reference/data-types/datetime.md)
- [Функции для работы с датами и временами.](../../sql-reference/functions/date-time-functions.md)
## date_time_output_format {#date_time_output_format}   

|Тип|По умолчанию|
|---|---|
|`DateTimeOutputFormat`|`simple`|

Позволяет выбирать различные форматы выходного текста для представления даты и времени.

Возможные значения:

- `simple` - Простой формат вывода.

    ClickHouse выводит дату и время в формате `YYYY-MM-DD hh:mm:ss`. Например, `2019-08-20 10:18:56`. Вычисление выполняется в соответствии с временной зоной типа данных (если она есть) или временной зоной сервера.

- `iso` - Формат вывода ISO.

    ClickHouse выводит дату и время в формате [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) `YYYY-MM-DDThh:mm:ssZ`. Например, `2019-08-20T10:18:56Z`. Обратите внимание, что вывод осуществляется в UTC (`Z` означает UTC).

- `unix_timestamp` - Формат вывода Unix timestamp.

    ClickHouse выводит дату и время в формате [Unix timestamp](https://en.wikipedia.org/wiki/Unix_time). Например, `1566285536`.

Смотрите также:

- [Тип данных DateTime.](../../sql-reference/data-types/datetime.md)
- [Функции для работы с датами и временами.](../../sql-reference/functions/date-time-functions.md)
## date_time_overflow_behavior {#date_time_overflow_behavior}   

|Тип|По умолчанию|
|---|---|
|`DateTimeOverflowBehavior`|`ignore`|

Определяет поведение, когда [Date](../../sql-reference/data-types/date.md), [Date32](../../sql-reference/data-types/date32.md), [DateTime](../../sql-reference/data-types/datetime.md), [DateTime64](../../sql-reference/data-types/datetime64.md) или целые числа конвертируются в Date, Date32, DateTime или DateTime64, но значение не может быть представлено в результирующем типе.

Возможные значения:

- `ignore` — Тихо игнорировать переполнения. Итоги неопределенные.
- `throw` — Выбросить исключение в случае переполнения.
- `saturate` — Настроить результат. Если значение меньше наименьшего значения, которое можно представить целевым типом, результат выбивается как наименьшее представимое значение. Если значение больше наибольшего значения, которое можно представить целевым типом, результат выбирается как наибольшее представимое значение.

Значение по умолчанию: `ignore`.
## dictionary_use_async_executor {#dictionary_use_async_executor}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Выполнять конвейер для чтения источника словаря в нескольких потоках. Это поддерживается только словарями с локальным источником CLICKHOUSE.
## errors_output_format {#errors_output_format}   

|Тип|По умолчанию|
|---|---|
|`String`|`CSV`|

Метод записи ошибок в текстовый вывод.
## exact_rows_before_limit {#exact_rows_before_limit}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

При включении ClickHouse предоставит точное значение для статистики rows_before_limit_at_least, но с учетом того, что данные перед лимитом будут полностью прочитаны.
## format_avro_schema_registry_url {#format_avro_schema_registry_url}   

|Тип|По умолчанию|
|---|---|
|`URI`|``|

Для AvroConfluent формата: URL реестра схем Confluent.
## format_binary_max_array_size {#format_binary_max_array_size}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1073741824`|

Максимально допустимый размер массива в бинарном формате. Это предотвращает выделение большого объема памяти в случае поврежденных данных. 0 означает, что нет предела.
## format_binary_max_string_size {#format_binary_max_string_size}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1073741824`|

Максимально допустимый размер строки в бинарном формате. Это предотвращает выделение большого объема памяти в случае поврежденных данных. 0 означает, что нет предела.
## format_capn_proto_enum_comparising_mode {#format_capn_proto_enum_comparising_mode}   

|Тип|По умолчанию|
|---|---|
|`CapnProtoEnumComparingMode`|`by_values`|

Как сопоставить ClickHouse Enum и CapnProto Enum.
## format_capn_proto_use_autogenerated_schema {#format_capn_proto_use_autogenerated_schema}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать автоматически сгенерированную схему CapnProto, когда format_schema не задан.
## format_csv_allow_double_quotes {#format_csv_allow_double_quotes}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если установлено в true, разрешить строки в двойных кавычках.
## format_csv_allow_single_quotes {#format_csv_allow_single_quotes}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Если установлено в true, разрешить строки в одинарных кавычках.
## format_csv_delimiter {#format_csv_delimiter}   

|Тип|По умолчанию|
|---|---|
|`Char`|`,`|

Символ, который будет считаться разделителем в данных CSV. Если настройка имеет строку, строка должна иметь длину 1.
## format_csv_null_representation {#format_csv_null_representation}   

|Тип|По умолчанию|
|---|---|
|`String`|`\N`|

Пользовательское представление NULL в формате CSV.
## format_custom_escaping_rule {#format_custom_escaping_rule}   

|Тип|По умолчанию|
|---|---|
|`EscapingRule`|`Escaped`|

Правило экранирования поля (для формата CustomSeparated).
## format_custom_field_delimiter {#format_custom_field_delimiter}   

|Тип|По умолчанию|
|---|---|
|`String`|`	`|

Разделитель между полями (для формата CustomSeparated).
## format_custom_result_after_delimiter {#format_custom_result_after_delimiter}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Суффикс после результирующего набора (для формата CustomSeparated).
## format_custom_result_before_delimiter {#format_custom_result_before_delimiter}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Префикс перед результирующим набором (для формата CustomSeparated).
## format_custom_row_after_delimiter {#format_custom_row_after_delimiter}   

|Тип|По умолчанию|
|---|---|
|`String`|`
`|

Разделитель после поля последней колонки (для формата CustomSeparated).
## format_custom_row_before_delimiter {#format_custom_row_before_delimiter}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Разделитель перед полем первой колонки (для формата CustomSeparated).
## format_custom_row_between_delimiter {#format_custom_row_between_delimiter}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Разделитель между строками (для формата CustomSeparated).
## format_display_secrets_in_show_and_select {#format_display_secrets_in_show_and_select}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Включает или отключает отображение секретов в запросах `SHOW` и `SELECT` для таблиц, баз данных,
табличных функций и словарей.

Пользователь, желающий увидеть секреты, также должен иметь
[`display_secrets_in_show_and_select` серверную настройку](../server-configuration-parameters/settings#display_secrets_in_show_and_select)
включенной и привилегию
[`displaySecretsInShowAndSelect`](/sql-reference/statements/grant#displaysecretsinshowandselect).

Возможные значения:

-   0 — Отключено.
-   1 — Включено.
## format_json_object_each_row_column_for_object_name {#format_json_object_each_row_column_for_object_name}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Имя колонки, которое будет использоваться для хранения/записи имен объектов в формате [JSONObjectEachRow](/interfaces/formats/JSONObjectEachRow).
Тип колонки должен быть String. Если значение пустое, будут использованы именя по умолчанию `row_{i}` для имен объектов.
## format_protobuf_use_autogenerated_schema {#format_protobuf_use_autogenerated_schema}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать автоматически сгенерированный Protobuf, когда format_schema не задан.
## format_regexp {#format_regexp}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Регулярное выражение (для формата Regexp).
## format_regexp_escaping_rule {#format_regexp_escaping_rule}   

|Тип|По умолчанию|
|---|---|
|`EscapingRule`|`Raw`|

Правило экранирования поля (для формата Regexp).
## format_regexp_skip_unmatched {#format_regexp_skip_unmatched}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать строки, не совпадающие с регулярным выражением (для формата Regexp).
## format_schema {#format_schema}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Этот параметр полезен, когда вы используете форматы, которые требуют определения схемы, такие как [Cap'n Proto](https://capnproto.org/) или [Protobuf](https://developers.google.com/protocol-buffers/). Значение зависит от формата.
## format_template_resultset {#format_template_resultset}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Путь к файлу, который содержит строку формата для результирующего набора (для формата Template).
## format_template_resultset_format {#format_template_resultset_format}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Строка формата для результирующего набора (для формата Template).
## format_template_row {#format_template_row}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Путь к файлу, который содержит строку формата для строк (для формата Template).
## format_template_row_format {#format_template_row_format}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Строка формата для строк (для формата Template).
## format_template_rows_between_delimiter {#format_template_rows_between_delimiter}   

|Тип|По умолчанию|
|---|---|
|`String`|`
`|

Разделитель между строками (для формата Template).
## format_tsv_null_representation {#format_tsv_null_representation}   

|Тип|По умолчанию|
|---|---|
|`String`|`\N`|

Пользовательское представление NULL в формате TSV.
## input_format_allow_errors_num {#input_format_allow_errors_num}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`0`|

Устанавливает максимальное количество допустимых ошибок при чтении из текстовых форматов (CSV, TSV и т.д.).

Значение по умолчанию - 0.

Всегда используется вместе с `input_format_allow_errors_ratio`.

Если ошибка произошла во время чтения строк, но счетчик ошибок все еще меньше `input_format_allow_errors_num`, ClickHouse игнорирует строку и переходит к следующей.

Если одновременно превышены и `input_format_allow_errors_num`, и `input_format_allow_errors_ratio`, ClickHouse выбрасывает исключение.
## input_format_allow_errors_ratio {#input_format_allow_errors_ratio}   

|Тип|По умолчанию|
|---|---|
|`Float`|`0`|

Устанавливает максимальный процент ошибок, допустимых при чтении из текстовых форматов (CSV, TSV и т.д.).
Процент ошибок устанавливается как число с плавающей запятой между 0 и 1.

Значение по умолчанию - 0.

Всегда используется вместе с `input_format_allow_errors_num`.

Если ошибка произошла во время чтения строк, но счетчик ошибок все еще меньше `input_format_allow_errors_ratio`, ClickHouse игнорирует строку и переходит к следующей.

Если одновременно превышены и `input_format_allow_errors_num`, и `input_format_allow_errors_ratio`, ClickHouse выбрасывает исключение.
## input_format_allow_seeks {#input_format_allow_seeks}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить поиск во время чтения в форматах ввода ORC/Parquet/Arrow.

Включено по умолчанию.
## input_format_arrow_allow_missing_columns {#input_format_arrow_allow_missing_columns}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить отсутствующие колонки при чтении форматов ввода Arrow.
## input_format_arrow_case_insensitive_column_matching {#input_format_arrow_case_insensitive_column_matching}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Игнорировать регистр при сопоставлении колонок Arrow с колонками CH.
## input_format_arrow_skip_columns_with_unsupported_types_in_schema_inference {#input_format_arrow_skip_columns_with_unsupported_types_in_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать колонки с неподдерживаемыми типами во время вывода схемы для формата Arrow.
## input_format_avro_allow_missing_fields {#input_format_avro_allow_missing_fields}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Для формата Avro/AvroConfluent: если поле не найдено в схеме, использовать значение по умолчанию вместо ошибки.
## input_format_avro_null_as_default {#input_format_avro_null_as_default}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Для формата Avro/AvroConfluent: вставить значение по умолчанию в случае null и ненулевой колонки.
## input_format_binary_decode_types_in_binary_format {#input_format_binary_decode_types_in_binary_format}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Читать типы данных в бинарном формате вместо имен типов в формате ввода RowBinaryWithNamesAndTypes.
## input_format_binary_read_json_as_string {#input_format_binary_read_json_as_string}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Читать значения типа [JSON](../../sql-reference/data-types/newjson.md) как значения JSON [String](../../sql-reference/data-types/string.md) в формате ввода RowBinary.
## input_format_bson_skip_fields_with_unsupported_types_in_schema_inference {#input_format_bson_skip_fields_with_unsupported_types_in_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать поля с неподдерживаемыми типами во время вывода схемы для формата BSON.
## input_format_capn_proto_skip_fields_with_unsupported_types_in_schema_inference {#input_format_capn_proto_skip_fields_with_unsupported_types_in_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать колонки с неподдерживаемыми типами во время вывода схемы для формата CapnProto.
## input_format_csv_allow_cr_end_of_line {#input_format_csv_allow_cr_end_of_line}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Если установлено в true, \\r будет разрешен в конце строки, если за ним не следует.
## input_format_csv_allow_variable_number_of_columns {#input_format_csv_allow_variable_number_of_columns}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Игнорировать дополнительные колонки в вводе CSV (если файл имеет больше колонок, чем ожидалось) и считать отсутствующие поля в вводе CSV значениями по умолчанию.
## input_format_csv_allow_whitespace_or_tab_as_delimiter {#input_format_csv_allow_whitespace_or_tab_as_delimiter}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Разрешить использовать пробелы и табуляции (\\t) в качестве разделителей полей в строках CSV.
## input_format_csv_arrays_as_nested_csv {#input_format_csv_arrays_as_nested_csv}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

При чтении массива из CSV ожидать, что его элементы сериализованы в виде вложенного CSV и вставлены в строку. Пример: \"[\"\"Hello\"\", \"\"world\"\", \"\"42\"\"\"\" TV\"\"]\". Скобки вокруг массива могут быть пропущены.
## input_format_csv_deserialize_separate_columns_into_tuple {#input_format_csv_deserialize_separate_columns_into_tuple}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если установлено в true, то отдельные колонки, записанные в формате CSV, могут быть десериализованы в столбец Tuple.
## input_format_csv_detect_header {#input_format_csv_detect_header}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Автоматически обнаруживать заголовок с именами и типами в формате CSV.
## input_format_csv_empty_as_default {#input_format_csv_empty_as_default}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Считать пустые поля в вводе CSV значениями по умолчанию.
## input_format_csv_enum_as_number {#input_format_csv_enum_as_number}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Считать вставленные значения перечисления в форматах CSV как индексы перечисления.
## input_format_csv_skip_first_lines {#input_format_csv_skip_first_lines}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`0`|

Пропускать указанное количество строк в начале данных в формате CSV.
## input_format_csv_skip_trailing_empty_lines {#input_format_csv_skip_trailing_empty_lines}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать конечные пустые строки в формате CSV.
## input_format_csv_trim_whitespaces {#input_format_csv_trim_whitespaces}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Обрезать пробелы и табуляции (\\t) в начале и конце строк в формате CSV.
## input_format_csv_try_infer_numbers_from_strings {#input_format_csv_try_infer_numbers_from_strings}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Если включено, при выводе схемы ClickHouse будет пытаться распознать числа из строковых полей.
Это может быть полезно, если данные CSV содержат заключенные в кавычки числа UInt64.

Отключено по умолчанию.
## input_format_csv_try_infer_strings_from_quoted_tuples {#input_format_csv_try_infer_strings_from_quoted_tuples}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Интерпретировать заключенные в кавычки кортежи во входных данных как значение типа String.
## input_format_csv_use_best_effort_in_schema_inference {#input_format_csv_use_best_effort_in_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать некоторые настройки и эвристики для вывода схемы в формате CSV.
## input_format_csv_use_default_on_bad_values {#input_format_csv_use_default_on_bad_values}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Разрешить установку значения по умолчанию в колонке, когда десериализация поля CSV завершилась неудачей из-за недопустимого значения.
## input_format_custom_allow_variable_number_of_columns {#input_format_custom_allow_variable_number_of_columns}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Игнорировать дополнительные колонки в формате CustomSeparated (если файл имеет больше колонок, чем ожидалось) и считать отсутствующие поля в формате CustomSeparated значениями по умолчанию.
## input_format_custom_detect_header {#input_format_custom_detect_header}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Автоматически обнаруживать заголовок с именами и типами в формате CustomSeparated.
## input_format_custom_skip_trailing_empty_lines {#input_format_custom_skip_trailing_empty_lines}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать конечные пустые строки в формате CustomSeparated.
## input_format_defaults_for_omitted_fields {#input_format_defaults_for_omitted_fields}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

При выполнении запросов `INSERT` заменять пропущенные значения ввода колонок значениями по умолчанию соответствующих колонок. Эта опция применяется к [JSONEachRow](/interfaces/formats/JSONEachRow) (и другим JSON-форматам), [CSV](/interfaces/formats/CSV), [TabSeparated](/interfaces/formats/TabSeparated), [TSKV](/interfaces/formats/TSKV), [Parquet](/interfaces/formats/Parquet), [Arrow](/interfaces/formats/Arrow), [Avro](/interfaces/formats/Avro), [ORC](/interfaces/formats/ORC), [Native](/interfaces/formats/Native) форматам и форматам с суффиксами `WithNames`/`WithNamesAndTypes`.

:::note
Когда эта опция включена, расширенные метаданные таблицы передаются от сервера к клиенту. Это потребляет дополнительные вычислительные ресурсы на сервере и может снижать производительность.
:::

Возможные значения:

- 0 — Отключено.
- 1 — Включено.
## input_format_force_null_for_omitted_fields {#input_format_force_null_for_omitted_fields}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Принудительно инициализировать пропущенные поля значениями null.
## input_format_hive_text_allow_variable_number_of_columns {#input_format_hive_text_allow_variable_number_of_columns}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Игнорировать дополнительные колонки в вводе Hive Text (если файл имеет больше колонок, чем ожидалось) и считать отсутствующие поля в вводе Hive Text значениями по умолчанию.
## input_format_hive_text_collection_items_delimiter {#input_format_hive_text_collection_items_delimiter}   

|Тип|По умолчанию|
|---|---|
|`Char`|``|

Разделитель между элементами коллекции (массива или карты) в Hive Text File.
## input_format_hive_text_fields_delimiter {#input_format_hive_text_fields_delimiter}   

|Тип|По умолчанию|
|---|---|
|`Char`|``|

Разделитель между полями в Hive Text File.
## input_format_hive_text_map_keys_delimiter {#input_format_hive_text_map_keys_delimiter}   

|Тип|По умолчанию|
|---|---|
|`Char`|``|

Разделитель между парой ключей/значений карты в Hive Text File.
## input_format_import_nested_json {#input_format_import_nested_json}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Включает или отключает вставку JSON-данных с вложенными объектами.

Поддерживаемые форматы:

- [JSONEachRow](/interfaces/formats/JSONEachRow)

Возможные значения:

- 0 — Отключено.
- 1 — Включено.

Смотрите также:

- [Использование вложенных структур](/integrations/data-formats/json/other-formats#accessing-nested-json-objects) с форматом `JSONEachRow`.
## input_format_ipv4_default_on_conversion_error {#input_format_ipv4_default_on_conversion_error}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Десериализация IPv4 будет использовать значения по умолчанию вместо выбрасывания исключения при ошибке конверсии.

Отключено по умолчанию.
## input_format_ipv6_default_on_conversion_error {#input_format_ipv6_default_on_conversion_error}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Десериализация IPV6 будет использовать значения по умолчанию вместо выбрасывания исключения при ошибке конверсии.

Отключено по умолчанию.
## input_format_json_compact_allow_variable_number_of_columns {#input_format_json_compact_allow_variable_number_of_columns}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Разрешить переменное количество колонок в строках в форматах ввода JSONCompact/JSONCompactEachRow.
Игнорировать дополнительные колонки в строках с большим количеством колонок, чем ожидалось, и считать отсутствующие колонки значениями по умолчанию.

Отключено по умолчанию.
## input_format_json_defaults_for_missing_elements_in_named_tuple {#input_format_json_defaults_for_missing_elements_in_named_tuple}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Вставить значения по умолчанию для отсутствующих элементов в объекте JSON при парсинге именованного кортежа.
Эта настройка работает только когда включена настройка `input_format_json_named_tuples_as_objects`.

Включено по умолчанию.
## input_format_json_empty_as_default {#input_format_json_empty_as_default}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Когда включено, заменить пустые входные поля в JSON на значения по умолчанию. Для сложных выражений по умолчанию настройка `input_format_defaults_for_omitted_fields` также должна быть включена.

Возможные значения:

+ 0 — Отключить.
+ 1 — Включить.
## input_format_json_ignore_unknown_keys_in_named_tuple {#input_format_json_ignore_unknown_keys_in_named_tuple}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Игнорировать неизвестные ключи в объекте JSON для именованных кортежей.

Включено по умолчанию.
## input_format_json_ignore_unnecessary_fields {#input_format_json_ignore_unnecessary_fields}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Игнорировать ненужные поля и не парсить их. Включение этого может не вызывать исключения для json-строк недопустимого формата или с дублирующимися полями.
## input_format_json_infer_incomplete_types_as_strings {#input_format_json_infer_incomplete_types_as_strings}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Позволяет использовать тип String для ключей JSON, которые содержат только `Null`/`{}`/`[]` в образце данных во время вывода схемы.
В JSON-форматах любое значение может быть прочитано как строка, и мы можем избежать ошибок, таких как `Невозможно определить тип для колонки 'column_name' по первым 25000 строкам данных, вероятно, эта колонка содержит только Null или пустые массивы/карты`, во время вывода схемы,
используя строковый тип для ключей с неизвестными типами.

Пример:

```sql
SET input_format_json_infer_incomplete_types_as_strings = 1, input_format_json_try_infer_named_tuples_from_objects = 1;
DESCRIBE format(JSONEachRow, '{"obj" : {"a" : [1,2,3], "b" : "hello", "c" : null, "d" : {}, "e" : []}}');
SELECT * FROM format(JSONEachRow, '{"obj" : {"a" : [1,2,3], "b" : "hello", "c" : null, "d" : {}, "e" : []}}');
```

Результат:
```
┌─name─┬─type───────────────────────────────────────────────────────────────────────────────────────────────────────────────────┬─default_type─┬─default_expression─┬─comment─┬─codec_expression─┬─ttl_expression─┐
│ obj  │ Tuple(a Array(Nullable(Int64)), b Nullable(String), c Nullable(String), d Nullable(String), e Array(Nullable(String))) │              │                    │         │                  │                │
└──────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴────────────────────┴─────────┴──────────────────┴────────────────┘

┌─obj────────────────────────────┐
│ ([1,2,3],'hello',NULL,'{}',[]) │
└────────────────────────────────┘
```

Включено по умолчанию.
## input_format_json_max_depth {#input_format_json_max_depth}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1000`|

Максимальная глубина поля в JSON. Это не строгий предел, он не обязательно должен применяться точно.
## input_format_json_named_tuples_as_objects {#input_format_json_named_tuples_as_objects}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Парсить колонки именованных кортежей как JSON-объекты.

Включено по умолчанию.
## input_format_json_read_arrays_as_strings {#input_format_json_read_arrays_as_strings}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить разбор массивов JSON как строк в форматах ввода JSON.

Пример:

```sql
SET input_format_json_read_arrays_as_strings = 1;
SELECT arr, toTypeName(arr), JSONExtractArrayRaw(arr)[3] from format(JSONEachRow, 'arr String', '{"arr" : [1, "Hello", [1,2,3]]}');
```

Результат:
```
┌─arr───────────────────┬─toTypeName(arr)─┬─arrayElement(JSONExtractArrayRaw(arr), 3)─┐
│ [1, "Hello", [1,2,3]] │ String          │ [1,2,3]                                   │
└───────────────────────┴─────────────────┴───────────────────────────────────────────┘
```

Включено по умолчанию.
## input_format_json_read_bools_as_numbers {#input_format_json_read_bools_as_numbers}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить разбор булевых значений как числовых в форматах ввода JSON.

Включено по умолчанию.
## input_format_json_read_bools_as_strings {#input_format_json_read_bools_as_strings}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить разбор булевых значений как строк в форматах ввода JSON.

Включено по умолчанию.
## input_format_json_read_numbers_as_strings {#input_format_json_read_numbers_as_strings}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить разбор чисел как строк в форматах ввода JSON.

Включено по умолчанию.
## input_format_json_read_objects_as_strings {#input_format_json_read_objects_as_strings}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить разбор объектов JSON как строк в форматах ввода JSON.

Пример:

```sql
SET input_format_json_read_objects_as_strings = 1;
CREATE TABLE test (id UInt64, obj String, date Date) ENGINE=Memory();
INSERT INTO test FORMAT JSONEachRow {"id" : 1, "obj" : {"a" : 1, "b" : "Hello"}, "date" : "2020-01-01"};
SELECT * FROM test;
```

Результат:

```
┌─id─┬─obj──────────────────────┬───────date─┐
│  1 │ {"a" : 1, "b" : "Hello"} │ 2020-01-01 │
└────┴──────────────────────────┴────────────┘
```

Включено по умолчанию.
## input_format_json_throw_on_bad_escape_sequence {#input_format_json_throw_on_bad_escape_sequence}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Выбросить исключение, если строка JSON содержит недопустимую последовательность экранирования в форматах ввода JSON. Если отключено, недопустимые escape-последовательности останутся такими, какие есть, в данных.

Включено по умолчанию.
## input_format_json_try_infer_named_tuples_from_objects {#input_format_json_try_infer_named_tuples_from_objects}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если включено, при выводе схемы ClickHouse попытается вывести именованный кортеж из объектов JSON.
Результирующий именованный кортеж будет содержать все элементы из всех соответствующих объектов JSON из образца данных.

Пример:

```sql
SET input_format_json_try_infer_named_tuples_from_objects = 1;
DESC format(JSONEachRow, '{"obj" : {"a" : 42, "b" : "Hello"}}, {"obj" : {"a" : 43, "c" : [1, 2, 3]}}, {"obj" : {"d" : {"e" : 42}}}')
```

Результат:

```
┌─name─┬─type───────────────────────────────────────────────────────────────────────────────────────────────┬─default_type─┬─default_expression─┬─comment─┬─codec_expression─┬─ttl_expression─┐
│ obj  │ Tuple(a Nullable(Int64), b Nullable(String), c Array(Nullable(Int64)), d Tuple(e Nullable(Int64))) │              │                    │         │                  │                │
└──────┴────────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴────────────────────┴─────────┴──────────────────┴────────────────┘
```

Включено по умолчанию.
## input_format_json_try_infer_numbers_from_strings {#input_format_json_try_infer_numbers_from_strings}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Если включено, во время вывода схемы ClickHouse будет пытаться распознать числа из строковых полей.
Это может быть полезно, если данные JSON содержат заключенные в кавычки числа UInt64.

Отключено по умолчанию.
## input_format_json_use_string_type_for_ambiguous_paths_in_named_tuples_inference_from_objects {#input_format_json_use_string_type_for_ambiguous_paths_in_named_tuples_inference_from_objects}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Использовать тип String вместо исключения в случае неоднозначных путей в объектах JSON во время вывода именованных кортежей.
## input_format_json_validate_types_from_metadata {#input_format_json_validate_types_from_metadata}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Для форматов входных данных JSON/JSONCompact/JSONColumnsWithMetadata, если эта настройка установлена в 1, типы из метаданных во входных данных будут сравниваться с типами соответствующих колонок из таблицы.

По умолчанию включена.
## input_format_max_bytes_to_read_for_schema_inference {#input_format_max_bytes_to_read_for_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`33554432`|

Максимальный объем данных в байтах, который можно прочитать для автоматического вывода схемы.
## input_format_max_rows_to_read_for_schema_inference {#input_format_max_rows_to_read_for_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`25000`|

Максимальное количество строк данных для чтения для автоматического вывода схемы.
## input_format_msgpack_number_of_columns {#input_format_msgpack_number_of_columns}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`0`|

Количество колонок во вставленных данных MsgPack. Используется для автоматического вывода схемы из данных.
## input_format_mysql_dump_map_column_names {#input_format_mysql_dump_map_column_names}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Сопоставить колонки из таблицы в дампе MySQL и колонки из таблицы ClickHouse по именам.
## input_format_mysql_dump_table_name {#input_format_mysql_dump_table_name}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Имя таблицы в дампе MySQL, из которой будут читаться данные.
## input_format_native_allow_types_conversion {#input_format_native_allow_types_conversion}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить преобразование типов данных в нативном входном формате.
## input_format_native_decode_types_in_binary_format {#input_format_native_decode_types_in_binary_format}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Читать типы данных в бинарном формате вместо имен типов в нативном входном формате.
## input_format_null_as_default {#input_format_null_as_default}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Включает или отключает инициализацию полей [NULL](/sql-reference/syntax#literals) значениями [по умолчанию](/sql-reference/statements/create/table#default_values), если тип данных этих полей не [nullable](/sql-reference/data-types/nullable).
Если тип колонки не nullable и эта настройка отключена, то вставка `NULL` вызывает исключение. Если тип колонки nullable, то значения `NULL` вставляются как есть, независимо от этой настройки.

Эта настройка применима к большинству форматов ввода.

Для сложных выражений по умолчанию `input_format_defaults_for_omitted_fields` также должна быть включена.

Возможные значения:

- 0 — Вставка `NULL` в неnullable колонку вызывает исключение.
- 1 — Поля `NULL` инициализируются значениями по умолчанию колонок.
## input_format_orc_allow_missing_columns {#input_format_orc_allow_missing_columns}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить пропуск колонок при чтении форматов входных данных ORC.
## input_format_orc_case_insensitive_column_matching {#input_format_orc_case_insensitive_column_matching}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Игнорировать регистр при сопоставлении колонок ORC с колонками CH.
## input_format_orc_dictionary_as_low_cardinality {#input_format_orc_dictionary_as_low_cardinality}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Обработать колонки, закодированные с помощью словаря ORC, как колонки LowCardinality при чтении файлов ORC.
## input_format_orc_filter_push_down {#input_format_orc_filter_push_down}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

При чтении файлов ORC пропускать целые полосы или группы строк на основе выражений WHERE/PREWHERE, статистики min/max или фильтра Блума в метаданных ORC.
## input_format_orc_reader_time_zone_name {#input_format_orc_reader_time_zone_name}   

|Тип|По умолчанию|
|---|---|
|`String`|`GMT`|

Имя часового пояса для ридера строк ORC, по умолчанию часовой пояс ридера строк ORC GMT.
## input_format_orc_row_batch_size {#input_format_orc_row_batch_size}   

|Тип|По умолчанию|
|---|---|
|`Int64`|`100000`|

Размер пакета при чтении полос ORC.
## input_format_orc_skip_columns_with_unsupported_types_in_schema_inference {#input_format_orc_skip_columns_with_unsupported_types_in_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать колонки с неподдерживаемыми типами во время вывода схемы для формата ORC.
## input_format_orc_use_fast_decoder {#input_format_orc_use_fast_decoder}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать более быструю реализацию декодера ORC.
## input_format_parquet_allow_missing_columns {#input_format_parquet_allow_missing_columns}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить пропуск колонок при чтении форматов входных данных Parquet.
## input_format_parquet_bloom_filter_push_down {#input_format_parquet_bloom_filter_push_down}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

При чтении файлов Parquet пропускать целые группы строк на основе выражений WHERE и фильтра Блума в метаданных Parquet.
## input_format_parquet_case_insensitive_column_matching {#input_format_parquet_case_insensitive_column_matching}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Игнорировать регистр при сопоставлении колонок Parquet с колонками CH.
## input_format_parquet_enable_row_group_prefetch {#input_format_parquet_enable_row_group_prefetch}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Включить предварительное чтение групп строк во время парсинга Parquet. В настоящее время только однопоточное парсинг может выполнять предварительное чтение.
## input_format_parquet_filter_push_down {#input_format_parquet_filter_push_down}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

При чтении файлов Parquet пропускать целые группы строк на основе выражений WHERE/PREWHERE и статистики min/max в метаданных Parquet.
## input_format_parquet_local_file_min_bytes_for_seek {#input_format_parquet_local_file_min_bytes_for_seek}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`8192`|

Минимальный объем в байтах, необходимый для локального чтения (файла) для выполнения поиска, вместо чтения с игнорированием в формате Parquet.
## input_format_parquet_max_block_size {#input_format_parquet_max_block_size}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`65409`|

Максимальный размер блока для ридера Parquet.
## input_format_parquet_prefer_block_bytes {#input_format_parquet_prefer_block_bytes}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`16744704`|

Средний объем данных в блоке, который выводится ридером Parquet.
## input_format_parquet_preserve_order {#input_format_parquet_preserve_order}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Избегать переупорядочивания строк при чтении из файлов Parquet. Обычно это значительно замедляет процесс.
## input_format_parquet_skip_columns_with_unsupported_types_in_schema_inference {#input_format_parquet_skip_columns_with_unsupported_types_in_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать колонки с неподдерживаемыми типами во время вывода схемы для формата Parquet.
## input_format_parquet_use_native_reader {#input_format_parquet_use_native_reader}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

При чтении файлов Parquet использовать нативный ридер вместо ридера Arrow.
## input_format_protobuf_flatten_google_wrappers {#input_format_protobuf_flatten_google_wrappers}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Включить обертки Google для обычных ненастройных колонок, например, google.protobuf.StringValue 'str' для колонки String 'str'. Для Nullable колонок пустые обертки признаются значениями по умолчанию, а отсутствующие — как null.
## input_format_protobuf_skip_fields_with_unsupported_types_in_schema_inference {#input_format_protobuf_skip_fields_with_unsupported_types_in_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать поля с неподдерживаемыми типами во время вывода схемы для формата Protobuf.
## input_format_record_errors_file_path {#input_format_record_errors_file_path}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Путь к файлу, используемому для записи ошибок при чтении текстовых форматов (CSV, TSV).
## input_format_skip_unknown_fields {#input_format_skip_unknown_fields}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Включает или отключает пропуск вставки дополнительных данных.

При записи данных ClickHouse генерирует исключение, если входные данные содержат колонки, которые не существуют в целевой таблице. Если пропуск включен, ClickHouse не вставляет дополнительные данные и не генерирует исключение.

Поддерживаемые форматы:

- [JSONEachRow](/interfaces/formats/JSONEachRow) (и другие JSON форматы)
- [BSONEachRow](/interfaces/formats/BSONEachRow) (и другие JSON форматы)
- [TSKV](/interfaces/formats/TSKV)
- Все форматы с суффиксами WithNames/WithNamesAndTypes
- [MySQLDump](/interfaces/formats/MySQLDump)
- [Native](/interfaces/formats/Native)

Возможные значения:

- 0 — Отключено.
- 1 — Включено.
## input_format_try_infer_dates {#input_format_try_infer_dates}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если включено, ClickHouse пытается вывести тип `Date` из строковых полей в автоматическом выводе схемы для текстовых форматов. Если все поля из колонки во входных данных были успешно обработаны как даты, результирующий тип будет `Date`, если хотя бы одно поле не было обработано как дата, результирующий тип будет `String`.

По умолчанию включено.
## input_format_try_infer_datetimes {#input_format_try_infer_datetimes}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если включено, ClickHouse пытается вывести тип `DateTime64` из строковых полей в автоматическом выводе схемы для текстовых форматов. Если все поля из колонки во входных данных были успешно обработаны как даты и время, результирующий тип будет `DateTime64`, если хотя бы одно поле не было обработано как дата и время, результирующий тип будет `String`.

По умолчанию включено.
## input_format_try_infer_datetimes_only_datetime64 {#input_format_try_infer_datetimes_only_datetime64}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Когда включен `input_format_try_infer_datetimes`, выводить только типы DateTime64, но не DateTime.
## input_format_try_infer_exponent_floats {#input_format_try_infer_exponent_floats}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пробовать выводить числа с плавающей запятой в экспоненциальной нотации во время автоматического вывода схемы в текстовых форматах (кроме JSON, где экспоненциальные числа всегда обрабатываются).
## input_format_try_infer_integers {#input_format_try_infer_integers}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если включено, ClickHouse пытается вывести целые числа вместо чисел с плавающей запятой в автоматическом выводе схемы для текстовых форматов. Если все числа в колонке из входных данных являются целыми, результирующий тип будет `Int64`, если хотя бы одно число является числом с плавающей запятой, результирующий тип будет `Float64`.

По умолчанию включено.
## input_format_try_infer_variants {#input_format_try_infer_variants}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Если включено, ClickHouse пытается вывести тип [`Variant`](../../sql-reference/data-types/variant.md) в автоматическом выводе схемы для текстовых форматов, когда существует более одного возможного типа для элементов колонки/массива.

Возможные значения:

- 0 — Отключено.
- 1 — Включено.
## input_format_tsv_allow_variable_number_of_columns {#input_format_tsv_allow_variable_number_of_columns}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Игнорировать дополнительные колонки во входных данных TSV (если файл содержит больше колонок, чем ожидалось) и считать пропущенные поля во входных данных TSV значениями по умолчанию.
## input_format_tsv_crlf_end_of_line {#input_format_tsv_crlf_end_of_line}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Если установлено в true, функция файла будет читать формат TSV с \\r\\n вместо \\n.
## input_format_tsv_detect_header {#input_format_tsv_detect_header}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Автоматически определять заголовок с именами и типами в формате TSV.
## input_format_tsv_empty_as_default {#input_format_tsv_empty_as_default}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Считать пустые поля во входных данных TSV значениями по умолчанию.
## input_format_tsv_enum_as_number {#input_format_tsv_enum_as_number}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Считать вставленные значения перечислений в формате TSV как индексы перечислений.
## input_format_tsv_skip_first_lines {#input_format_tsv_skip_first_lines}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`0`|

Пропускать указанное количество строк в начале данных в формате TSV.
## input_format_tsv_skip_trailing_empty_lines {#input_format_tsv_skip_trailing_empty_lines}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать завершающие пустые строки в формате TSV.
## input_format_tsv_use_best_effort_in_schema_inference {#input_format_tsv_use_best_effort_in_schema_inference}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать некоторые настройки и эвристические методы для вывода схемы в формате TSV.
## input_format_values_accurate_types_of_literals {#input_format_values_accurate_types_of_literals}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Для формата Values: при разборе и интерпретации выражений с использованием шаблона, проверять фактический тип литерала, чтобы избежать возможного переполнения и проблем с точностью.
## input_format_values_deduce_templates_of_expressions {#input_format_values_deduce_templates_of_expressions}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Для формата Values: если поле не может быть разобрано потоковым парсером, запустить SQL парсер, вывести шаблон SQL выражения, попробовать разобрать все строки с использованием шаблона, а затем интерпретировать выражение для всех строк.
## input_format_values_interpret_expressions {#input_format_values_interpret_expressions}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Для формата Values: если поле не может быть разобрано потоковым парсером, запустить SQL парсер и попытаться интерпретировать его как SQL выражение.
## input_format_with_names_use_header {#input_format_with_names_use_header}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Включает или отключает проверку порядка колонок при вставке данных.

Для повышения производительности вставки, мы рекомендуем отключить эту проверку, если вы уверены, что порядок колонок входных данных совпадает с порядком в целевой таблице.

Поддерживаемые форматы:

- [CSVWithNames](/interfaces/formats/CSVWithNames)
- [CSVWithNamesAndTypes](/interfaces/formats/CSVWithNamesAndTypes)
- [TabSeparatedWithNames](/interfaces/formats/TabSeparatedWithNames)
- [TabSeparatedWithNamesAndTypes](/interfaces/formats/TabSeparatedWithNamesAndTypes)
- [JSONCompactEachRowWithNames](/interfaces/formats/JSONCompactEachRowWithNames)
- [JSONCompactEachRowWithNamesAndTypes](/interfaces/formats/JSONCompactEachRowWithNamesAndTypes)
- [JSONCompactStringsEachRowWithNames](/interfaces/formats/JSONCompactStringsEachRowWithNames)
- [JSONCompactStringsEachRowWithNamesAndTypes](/interfaces/formats/JSONCompactStringsEachRowWithNamesAndTypes)
- [RowBinaryWithNames](/interfaces/formats/RowBinaryWithNames)
- [RowBinaryWithNamesAndTypes](/interfaces/formats/RowBinaryWithNamesAndTypes)
- [CustomSeparatedWithNames](/interfaces/formats/CustomSeparatedWithNames)
- [CustomSeparatedWithNamesAndTypes](/interfaces/formats/CustomSeparatedWithNamesAndTypes)

Возможные значения:

- 0 — Отключено.
- 1 — Включено.
## input_format_with_types_use_header {#input_format_with_types_use_header}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Контролирует, должен ли парсер формата проверять, соответствуют ли типы данных из входных данных типам данных из целевой таблицы.

Поддерживаемые форматы:

- [CSVWithNamesAndTypes](/interfaces/formats/CSVWithNamesAndTypes)
- [TabSeparatedWithNamesAndTypes](/interfaces/formats/TabSeparatedWithNamesAndTypes)
- [JSONCompactEachRowWithNamesAndTypes](/interfaces/formats/JSONCompactEachRowWithNamesAndTypes)
- [JSONCompactStringsEachRowWithNamesAndTypes](/interfaces/formats/JSONCompactStringsEachRowWithNamesAndTypes)
- [RowBinaryWithNamesAndTypes](/interfaces/formats/RowBinaryWithNamesAndTypes)
- [CustomSeparatedWithNamesAndTypes](/interfaces/formats/CustomSeparatedWithNamesAndTypes)

Возможные значения:

- 0 — Отключено.
- 1 — Включено.
## insert_distributed_one_random_shard {#insert_distributed_one_random_shard}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Включает или отключает случайную вставку в шард в таблице [Distributed](/engines/table-engines/special/distributed), когда отсутствует распределенный ключ.

По умолчанию, при вставке данных в таблицу `Distributed` с более чем одним шардом сервер ClickHouse отклонит любой запрос на вставку, если не предоставлен распределенный ключ. Когда `insert_distributed_one_random_shard = 1`, вставки разрешены и данные случайным образом распределяются между всеми шарадами.

Возможные значения:

- 0 — Вставка отклонена, если есть несколько шаров и не указан распределенный ключ.
- 1 — Вставка производится случайным образом среди всех доступных шаров, когда не указан распределенный ключ.
## interval_output_format {#interval_output_format}   

|Тип|По умолчанию|
|---|---|
|`IntervalOutputFormat`|`numeric`|

Позволяет выбирать различные форматы вывода текстового представления типов интервалов.

Возможные значения:

-   `kusto` - Формат вывода в стиле KQL.

    ClickHouse выводит интервалы в [формате KQL](https://learn.microsoft.com/en-us/dotnet/standard/base-types/standard-timespan-format-strings#the-constant-c-format-specifier). Например, `toIntervalDay(2)` будет отформатирован как `2.00:00:00`. Обратите внимание, что для интервалов переменной длины (например, `IntervalMonth` и `IntervalYear`) учитывается среднее количество секунд на интервал.

-   `numeric` - Числовой формат вывода.

    ClickHouse выводит интервалы как их базовое числовое представление. Например, `toIntervalDay(2)` будет отформатирован как `2`.

Смотрите также:

-   [Interval](../../sql-reference/data-types/special-data-types/interval.md)
## output_format_arrow_compression_method {#output_format_arrow_compression_method}   

|Тип|По умолчанию|
|---|---|
|`ArrowCompression`|`lz4_frame`|

Метод сжатия для формата вывода Arrow. Поддерживаемые кодеки: lz4_frame, zstd, none (не сжатый).
## output_format_arrow_fixed_string_as_fixed_byte_array {#output_format_arrow_fixed_string_as_fixed_byte_array}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать тип Arrow FIXED_SIZE_BINARY вместо Binary для колонок FixedString.
## output_format_arrow_low_cardinality_as_dictionary {#output_format_arrow_low_cardinality_as_dictionary}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Включить вывод типа LowCardinality как типа словаря Arrow.
## output_format_arrow_string_as_string {#output_format_arrow_string_as_string}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать тип Arrow String вместо Binary для колонок String.
## output_format_arrow_use_64_bit_indexes_for_dictionary {#output_format_arrow_use_64_bit_indexes_for_dictionary}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Всегда использовать 64-битные целые числа для индексов словаря в формате Arrow.
## output_format_arrow_use_signed_indexes_for_dictionary {#output_format_arrow_use_signed_indexes_for_dictionary}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать знаковые целые числа для индексов словаря в формате Arrow.
## output_format_avro_codec {#output_format_avro_codec}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Кодек сжатия, используемый для вывода. Возможные значения: 'null', 'deflate', 'snappy', 'zstd'.
## output_format_avro_rows_in_file {#output_format_avro_rows_in_file}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1`|

Максимальное количество строк в файле (если разрешено хранилищем).
## output_format_avro_string_column_pattern {#output_format_avro_string_column_pattern}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Для формата Avro: регулярное выражение колонок String для выбора как строки AVRO.
## output_format_avro_sync_interval {#output_format_avro_sync_interval}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`16384`|

Интервал синхронизации в байтах.
## output_format_binary_encode_types_in_binary_format {#output_format_binary_encode_types_in_binary_format}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Записывать типы данных в бинарном формате вместо имен типов в формате RowBinaryWithNamesAndTypes.
## output_format_binary_write_json_as_string {#output_format_binary_write_json_as_string}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Записывать значения типа [JSON](../../sql-reference/data-types/newjson.md) как значения [String](../../sql-reference/data-types/string.md) в формате RowBinary.
## output_format_bson_string_as_string {#output_format_bson_string_as_string}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Использовать тип BSON String вместо Binary для колонок String.
## output_format_csv_crlf_end_of_line {#output_format_csv_crlf_end_of_line}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Если это установлено в true, конец строки в формате CSV будет \\r\\n вместо \\n.
## output_format_csv_serialize_tuple_into_separate_columns {#output_format_csv_serialize_tuple_into_separate_columns}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если это установлено в true, то кортежи в формате CSV сериализуются как отдельные колонки (т.е. их вложенность в кортеже теряется).
## output_format_decimal_trailing_zeros {#output_format_decimal_trailing_zeros}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Выводить конечные нули при печати значений Decimal. Например, 1.230000 вместо 1.23.

По умолчанию отключено.
## output_format_json_array_of_rows {#output_format_json_array_of_rows}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Включает возможность выводить все строки как JSON-массив в формате [JSONEachRow](/interfaces/formats/JSONEachRow).

Возможные значения:

- 1 — ClickHouse выводит все строки как массив, каждая строка в формате `JSONEachRow`.
- 0 — ClickHouse выводит каждую строку отдельно в формате `JSONEachRow`.

**Пример запроса с включенной настройкой**

Запрос:

```sql
SET output_format_json_array_of_rows = 1;
SELECT number FROM numbers(3) FORMAT JSONEachRow;
```

Результат:

```text
[
{"number":"0"},
{"number":"1"},
{"number":"2"}
]
```

**Пример запроса с отключенной настройкой**

Запрос:

```sql
SET output_format_json_array_of_rows = 0;
SELECT number FROM numbers(3) FORMAT JSONEachRow;
```

Результат:

```text
{"number":"0"}
{"number":"1"}
{"number":"2"}
```
## output_format_json_escape_forward_slashes {#output_format_json_escape_forward_slashes}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Контролирует экранирование прямых слешей для строковых выводов в формате JSON. Это необходимо для совместимости с JavaScript. Не путайте с обратными слешами, которые всегда экранируются.

По умолчанию включено.
## output_format_json_named_tuples_as_objects {#output_format_json_named_tuples_as_objects}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Сериализовать именованные кортежи в формате JSON как объекты.

По умолчанию включено.
## output_format_json_pretty_print {#output_format_json_pretty_print}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Когда включено, значения сложных типов данных, таких как Tuple/Array/Map в формате JSON, в разделе 'data' будут печататься в формате "pretty".

По умолчанию включено.
## output_format_json_quote_64bit_floats {#output_format_json_quote_64bit_floats}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Контролирует экранирование 64-битных [чисел с плавающей запятой](../../sql-reference/data-types/float.md), когда они выводятся в форматах JSON.

По умолчанию отключено.
## output_format_json_quote_64bit_integers {#output_format_json_quote_64bit_integers}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Контролирует экранирование 64-битных или больших [целых чисел](../../sql-reference/data-types/int-uint.md) (таких как `UInt64` или `Int128`), когда они выводятся в формате [JSON](/interfaces/formats/JSON).
Такие числа по умолчанию заключаются в кавычки. Это поведение совместимо с большинством реализации JavaScript.

Возможные значения:

- 0 — Целые числа выводятся без кавычек.
- 1 — Целые числа заключаются в кавычки.
## output_format_json_quote_decimals {#output_format_json_quote_decimals}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Контролирует экранирование десятичных значений в форматах JSON.

По умолчанию отключено.
## output_format_json_quote_denormals {#output_format_json_quote_denormals}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Включает вывод `+nan`, `-nan`, `+inf`, `-inf` в формате [JSON](/interfaces/formats/JSON).

Возможные значения:

- 0 — Отключено.
- 1 — Включено.

**Пример**

Рассмотрим следующую таблицу `account_orders`:

```text
┌─id─┬─name───┬─duration─┬─period─┬─area─┐
│  1 │ Andrew │       20 │      0 │  400 │
│  2 │ John   │       40 │      0 │    0 │
│  3 │ Bob    │       15 │      0 │ -100 │
└────┴────────┴──────────┴────────┴──────┘
```

Когда `output_format_json_quote_denormals = 0`, запрос возвращает значения `null` в выводе:

```sql
SELECT area/period FROM account_orders FORMAT JSON;
```

```json
{
        "meta":
        [
                {
                        "name": "divide(area, period)",
                        "type": "Float64"
                }
        ],

        "data":
        [
                {
                        "divide(area, period)": null
                },
                {
                        "divide(area, period)": null
                },
                {
                        "divide(area, period)": null
                }
        ],

        "rows": 3,

        "statistics":
        {
                "elapsed": 0.003648093,
                "rows_read": 3,
                "bytes_read": 24
        }
}
```

Когда `output_format_json_quote_denormals = 1`, запрос возвращает:

```json
{
        "meta":
        [
                {
                        "name": "divide(area, period)",
                        "type": "Float64"
                }
        ],

        "data":
        [
                {
                        "divide(area, period)": "inf"
                },
                {
                        "divide(area, period)": "-nan"
                },
                {
                        "divide(area, period)": "-inf"
                }
        ],

        "rows": 3,

        "statistics":
        {
                "elapsed": 0.000070241,
                "rows_read": 3,
                "bytes_read": 24
        }
}
```
## output_format_json_skip_null_value_in_named_tuples {#output_format_json_skip_null_value_in_named_tuples}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Пропускать пары ключ-значение с null значением при сериализации именованных кортежей как JSON объекты. Это допустимо только тогда, когда `output_format_json_named_tuples_as_objects` равно true.
## output_format_json_validate_utf8 {#output_format_json_validate_utf8}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Контролирует проверку последовательностей UTF-8 в форматах вывода JSON, не влияет на форматы JSON/JSONCompact/JSONColumnsWithMetadata, которые всегда проверяют UTF-8.

По умолчанию отключено.
## output_format_markdown_escape_special_characters {#output_format_markdown_escape_special_characters}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Когда включено, экранировать специальные символы в Markdown.

[Common Mark](https://spec.commonmark.org/0.30/#example-12) определяет следующие специальные символы, которые могут быть экранированы с помощью \:

```
! " # $ % & ' ( ) * + , - . / : ; < = > ? @ [ \ ] ^ _ ` { | } ~
```

Возможные значения:

+ 0 — Отключить.
+ 1 — Включить.
## output_format_msgpack_uuid_representation {#output_format_msgpack_uuid_representation}   

|Тип|По умолчанию|
|---|---|
|`MsgPackUUIDRepresentation`|`ext`|

Способ вывода UUID в формате MsgPack.
## output_format_native_encode_types_in_binary_format {#output_format_native_encode_types_in_binary_format}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Записывать типы данных в бинарном формате вместо имен типов в нативном формате вывода.
## output_format_native_write_json_as_string {#output_format_native_write_json_as_string}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Записывать данные колонки [JSON](../../sql-reference/data-types/newjson.md) как колонку [String](../../sql-reference/data-types/string.md), содержащую строки JSON вместо стандартной нативной сериализации JSON.
## output_format_orc_compression_method {#output_format_orc_compression_method}   

|Тип|По умолчанию|
|---|---|
|`ORCCompression`|`zstd`|

Метод сжатия для формата вывода ORC. Поддерживаемые кодеки: lz4, snappy, zlib, zstd, none (не сжатый).
## output_format_orc_dictionary_key_size_threshold {#output_format_orc_dictionary_key_size_threshold}   

|Тип|По умолчанию|
|---|---|
|`Double`|`0`|

Для строковой колонки в формате вывода ORC, если количество различных значений превышает эту долю от общего числа ненулевых строк, отключите кодирование по словарю. В противном случае кодирование по словарю включается.
## output_format_orc_row_index_stride {#output_format_orc_row_index_stride}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`10000`|

Целевой шаг индекса строки в формате вывода ORC.
## output_format_orc_string_as_string {#output_format_orc_string_as_string}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать тип ORC String вместо Binary для колонок String.
## output_format_orc_writer_time_zone_name {#output_format_orc_writer_time_zone_name}   

|Тип|По умолчанию|
|---|---|
|`String`|`GMT`|

Имя часового пояса для писателя ORC, по умолчанию часовой пояс писателя ORC GMT.
## output_format_parquet_batch_size {#output_format_parquet_batch_size}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1024`|

Проверять размер страницы каждые это количество строк. Рассмотрите возможность уменьшения, если у вас есть колонки со средним размером значений более нескольких КБ.
## output_format_parquet_bloom_filter_bits_per_value {#output_format_parquet_bloom_filter_bits_per_value}   

|Тип|По умолчанию|
|---|---|
|`Double`|`10.5`|

Приблизительное количество бит, используемое для каждого уникального значения в фильтрах Блума формата Parquet. Оценочные уровни ложных срабатываний:
  *  6   бит - 10%
  * 10.5 бит -  1%
  * 16.9 бит -  0.1%
  * 26.4 бит -  0.01%
  * 41   бит -  0.001%
## output_format_parquet_bloom_filter_flush_threshold_bytes {#output_format_parquet_bloom_filter_flush_threshold_bytes}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`134217728`|

Где в файле Parquet размещать фильтры Блума. Фильтры Блума будут записываться группами примерно этого размера. В частности:
  * если 0, фильтры Блума для каждой группы строк записываются сразу после группы строк,
  * если больше общего размера всех фильтров Блума, фильтры Блума для всех групп строк будут аккумулироваться в памяти, а затем записываться вместе в конце файла,
  * в противном случае фильтры Блума будут аккумулироваться в памяти и записываться, когда их общий размер превысит это значение.
## output_format_parquet_compliant_nested_types {#output_format_parquet_compliant_nested_types}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

В схеме файла Parquet использовать имя 'element' вместо 'item' для элементов списка. Это исторический артефакт реализации библиотеки Arrow. Обычно увеличивает совместимость, кроме, возможно, с некоторыми старыми версиями Arrow.
## output_format_parquet_compression_method {#output_format_parquet_compression_method}   

|Тип|По умолчанию|
|---|---|
|`ParquetCompression`|`zstd`|

Метод сжатия для формата вывода Parquet. Поддерживаемые кодеки: snappy, lz4, brotli, zstd, gzip, none (несжатый)
## output_format_parquet_data_page_size {#output_format_parquet_data_page_size}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1048576`|

Целевой размер страницы в байтах до сжатия.
## output_format_parquet_datetime_as_uint32 {#output_format_parquet_datetime_as_uint32}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Записывать значения DateTime как необработанный UNIX временной штамп (читается как UInt32), вместо преобразования в миллисекунды (читается как DateTime64(3)).
## output_format_parquet_fixed_string_as_fixed_byte_array {#output_format_parquet_fixed_string_as_fixed_byte_array}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать тип Parquet FIXED_LENGTH_BYTE_ARRAY вместо Binary для колонок FixedString.
## output_format_parquet_parallel_encoding {#output_format_parquet_parallel_encoding}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Выполнять кодирование Parquet в нескольких потоках. Требуется output_format_parquet_use_custom_encoder.
## output_format_parquet_row_group_size {#output_format_parquet_row_group_size}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1000000`|

Целевой размер группы строк в строках.
## output_format_parquet_row_group_size_bytes {#output_format_parquet_row_group_size_bytes}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`536870912`|

Целевой размер группы строк в байтах до сжатия.
## output_format_parquet_string_as_string {#output_format_parquet_string_as_string}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать тип Parquet String вместо Binary для колонок String.
## output_format_parquet_use_custom_encoder {#output_format_parquet_use_custom_encoder}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Использовать более быструю реализацию кодировщика Parquet.
## output_format_parquet_version {#output_format_parquet_version}   

|Тип|По умолчанию|
|---|---|
|`ParquetVersion`|`2.latest`|

Версия формата Parquet для формата вывода. Поддерживаемые версии: 1.0, 2.4, 2.6 и 2.latest (по умолчанию)
## output_format_parquet_write_bloom_filter {#output_format_parquet_write_bloom_filter}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Записывать фильтры Блума в файлы parquet. Требуется output_format_parquet_use_custom_encoder = true.
## output_format_parquet_write_page_index {#output_format_parquet_write_page_index}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Записывать индекс колонки и индекс смещения (т.е. статистику о каждой странице данных, которая может использоваться для фильтрации при чтении) в файлы parquet.
## output_format_pretty_color {#output_format_pretty_color}   

|Тип|По умолчанию|
|---|---|
|`UInt64Auto`|`auto`|

Использовать ANSI escape последовательности в Pretty форматах. 0 - отключено, 1 - включено, 'auto' - включено, если это терминал.
## output_format_pretty_display_footer_column_names {#output_format_pretty_display_footer_column_names}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1`|

Отображать имена колонок в нижнем колонтитуле, если есть много строк таблицы.

 Возможные значения:

- 0 — Имена колонок не отображаются в нижнем колонтитуле.
- 1 — Имена колонок отображаются в нижнем колонтитуле, если количество строк больше или равно пороговому значению, установленному [output_format_pretty_display_footer_column_names_min_rows](#output_format_pretty_display_footer_column_names_min_rows) (по умолчанию 50).

**Пример**

Запрос:

```sql
SELECT *, toTypeName(*) FROM (SELECT * FROM system.numbers LIMIT 1000);
```

Результат:

```response
      ┌─number─┬─toTypeName(number)─┐
   1. │      0 │ UInt64             │
   2. │      1 │ UInt64             │
   3. │      2 │ UInt64             │
   ...
 999. │    998 │ UInt64             │
1000. │    999 │ UInt64             │
      └─number─┴─toTypeName(number)─┘
```
## output_format_pretty_display_footer_column_names_min_rows {#output_format_pretty_display_footer_column_names_min_rows}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`50`|

Устанавливает минимальное количество строк, для которого будет отображен нижний колонтитул с именами колонок, если настройка [output_format_pretty_display_footer_column_names](#output_format_pretty_display_footer_column_names) включена.
## output_format_pretty_fallback_to_vertical {#output_format_pretty_fallback_to_vertical}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если включено, и таблица широкая, но короткая, формат Pretty будет выводить её так, как это делает вертикальный формат.
См. `output_format_pretty_fallback_to_vertical_max_rows_per_chunk` и `output_format_pretty_fallback_to_vertical_min_table_width` для точной настройки этого поведения.
## output_format_pretty_fallback_to_vertical_max_rows_per_chunk {#output_format_pretty_fallback_to_vertical_max_rows_per_chunk}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`10`|

Возврат к вертикальному формату (см. `output_format_pretty_fallback_to_vertical`) будет активирован, если количество записей в блоке не превышает указанное значение.
## output_format_pretty_fallback_to_vertical_min_columns {#output_format_pretty_fallback_to_vertical_min_columns}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`5`|

Возврат к вертикальному формату (см. `output_format_pretty_fallback_to_vertical`) будет активирован только если количество колонок больше указанного значения.
## output_format_pretty_fallback_to_vertical_min_table_width {#output_format_pretty_fallback_to_vertical_min_table_width}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`250`|

Возврат к вертикальному формату (см. `output_format_pretty_fallback_to_vertical`) будет активирован, только если сумма длин колонок в таблице будет не менее указанного значения или если хотя бы одно значение содержит символ новой строки.
## output_format_pretty_grid_charset {#output_format_pretty_grid_charset}   

|Тип|По умолчанию|
|---|---|
|`String`|`UTF-8`|

Кодировка для печати границ сетки. Доступные кодировки: ASCII, UTF-8 (по умолчанию).
## output_format_pretty_highlight_digit_groups {#output_format_pretty_highlight_digit_groups}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если включено и если вывод — это терминал, подсвечивать каждую цифру, соответствующую количеству тысяч, миллионов, и т.д. с помощью подчеркивания.
## output_format_pretty_highlight_trailing_spaces {#output_format_pretty_highlight_trailing_spaces}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если включено и если вывод — это терминал, подсвечивать пробелы в конце строки серым цветом и подчеркиванием.
## output_format_pretty_max_column_name_width_cut_to {#output_format_pretty_max_column_name_width_cut_to}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`24`|

Если имя колонки слишком длинное, обрезать его до этой длины.
Колонка будет обрезана, если она длиннее, чем `output_format_pretty_max_column_name_width_cut_to` плюс `output_format_pretty_max_column_name_width_min_chars_to_cut`.
## output_format_pretty_max_column_name_width_min_chars_to_cut {#output_format_pretty_max_column_name_width_min_chars_to_cut}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`4`|

Минимальное количество символов для обрезки, если имя колонки слишком длинное.
Колонка будет обрезана, если она длиннее, чем `output_format_pretty_max_column_name_width_cut_to` плюс `output_format_pretty_max_column_name_width_min_chars_to_cut`.
## output_format_pretty_max_column_pad_width {#output_format_pretty_max_column_pad_width}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`250`|

Максимальная ширина для выравнивания всех значений в колонке в Pretty форматах.
## output_format_pretty_max_rows {#output_format_pretty_max_rows}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1000`|

Лимит строк для Pretty форматов.
## output_format_pretty_max_value_width {#output_format_pretty_max_value_width}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`10000`|

Максимальная ширина значения для отображения в Pretty форматах. Если больше - оно будет обрезано.
Значение 0 означает - никогда не обрезать.
## output_format_pretty_max_value_width_apply_for_single_value {#output_format_pretty_max_value_width_apply_for_single_value}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`0`|

Обрезать значения (см. настройку `output_format_pretty_max_value_width`), только когда это не единственное значение в блоке. В противном случае выводить полностью, что полезно для запроса `SHOW CREATE TABLE`.
## output_format_pretty_multiline_fields {#output_format_pretty_multiline_fields}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Если включено, Pretty форматы будут отображать многострочные поля внутри ячейки таблицы, чтобы контур таблицы оставался неизменным.
Если нет, они будут отображаться как есть, потенциально деформируя таблицу (одно из достоинств отключения - это то, что копирование и вставка многострочных значений будет проще).
## output_format_pretty_row_numbers {#output_format_pretty_row_numbers}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Добавить номера строк перед каждой строкой для формата красивого вывода
## output_format_pretty_single_large_number_tip_threshold {#output_format_pretty_single_large_number_tip_threshold}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1000000`|

Печать читаемого числа на правой стороне таблицы, если блок состоит из одного числа, превышающего это значение (кроме 0)
## output_format_pretty_squash_consecutive_ms {#output_format_pretty_squash_consecutive_ms}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`50`|

Ждать следующий блок до указанного количества миллисекунд и объединять его с предыдущим перед записью.
Это позволяет избежать частого вывода слишком маленьких блоков, но все равно позволяет отображать данные в потоковом формате.
## output_format_pretty_squash_max_wait_ms {#output_format_pretty_squash_max_wait_ms}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`1000`|

Выводить ожидающий блок в Pretty форматах, если прошло более указанного количества миллисекунд с предыдущего вывода.
## output_format_protobuf_nullables_with_google_wrappers {#output_format_protobuf_nullables_with_google_wrappers}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

При сериализации Nullable колонок с обертками Google сериализовать значения по умолчанию как пустые обертки. Если отключено, значения по умолчанию и null не сериализуются
## output_format_schema {#output_format_schema}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Путь к файлу, в который будет сохранена автоматически сгенерированная схема в форматах [Cap'n Proto](/interfaces/formats/CapnProto) или [Protobuf](/interfaces/formats/Protobuf).
## output_format_sql_insert_include_column_names {#output_format_sql_insert_include_column_names}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Включить имена колонок в запрос INSERT
## output_format_sql_insert_max_batch_size {#output_format_sql_insert_max_batch_size}   

|Тип|По умолчанию|
|---|---|
|`UInt64`|`65409`|

Максимальное количество строк в одном операторе INSERT.
## output_format_sql_insert_quote_names {#output_format_sql_insert_quote_names}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Обрамлять имена колонок символами '`'
## output_format_sql_insert_table_name {#output_format_sql_insert_table_name}   

|Тип|По умолчанию|
|---|---|
|`String`|`table`|

Имя таблицы в запросе INSERT вывода
## output_format_sql_insert_use_replace {#output_format_sql_insert_use_replace}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Использовать оператор REPLACE вместо INSERT
## output_format_tsv_crlf_end_of_line {#output_format_tsv_crlf_end_of_line}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Если установлено в true, конец строки в формате TSV будет \\r\\n вместо \\n.
## output_format_values_escape_quote_with_quote {#output_format_values_escape_quote_with_quote}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Если true, экранировать ' с '', иначе обрамлять с \\'
## output_format_write_statistics {#output_format_write_statistics}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Записывать статистику о прочитанных строках, байтах, времени, прошедшем в соответствующих форматах вывода.

Включено по умолчанию
## precise_float_parsing {#precise_float_parsing}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Предпочитать более точный (но более медленный) алгоритм парсинга чисел с плавающей запятой
## regexp_dict_allow_hyperscan {#regexp_dict_allow_hyperscan}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Разрешить словарю regexp_tree использовать библиотеку Hyperscan.
## regexp_dict_flag_case_insensitive {#regexp_dict_flag_case_insensitive}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Использовать регистронезависимый поиск для словаря regexp_tree. Может быть переопределен в отдельных выражениях с помощью (?i) и (?-i).
## regexp_dict_flag_dotall {#regexp_dict_flag_dotall}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Разрешить '.', чтобы совпадать с символами новой строки для словаря regexp_tree.
## rows_before_aggregation {#rows_before_aggregation}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

При включении ClickHouse будет предоставлять точное значение для статистики rows_before_aggregation, представляющей количество строк, прочитанных перед агрегацией
## schema_inference_hints {#schema_inference_hints}   

|Тип|По умолчанию|
|---|---|
|`String`|``|

Список имен колонок и типов, которые следует использовать в качестве подсказок при выводе схемы для форматов без схемы.

Пример:

Запрос:
```sql
desc format(JSONEachRow, '{"x" : 1, "y" : "String", "z" : "0.0.0.0" }') settings schema_inference_hints='x UInt8, z IPv4';
```

Результат:
```sql
x   UInt8
y   Nullable(String)
z   IPv4
```

:::note
Если `schema_inference_hints` неправильно отформатирован или если есть опечатка или неверный тип данных и т.д. ... вся информация о schema_inference_hints будет проигнорирована.
:::
## schema_inference_make_columns_nullable {#schema_inference_make_columns_nullable}   

|Тип|По умолчанию|
|---|---|
|`UInt64Auto`|`1`|

Контролирует, делают ли выведенные типы `Nullable` при выводе схемы.
Если настройка включена, все выведенные типы будут `Nullable`, если отключена, выведенный тип никогда не будет `Nullable`, если установлено в `auto`, выведенный тип будет `Nullable`, только если колонка содержит `NULL` в образце, который разбирается во время вывода схемы или метаданные файла содержат информацию о возможности null для колонки.
## schema_inference_make_json_columns_nullable {#schema_inference_make_json_columns_nullable}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

Контролирует, делают ли выведенные JSON типы `Nullable` при выводе схемы.
Если эта настройка включена вместе с schema_inference_make_columns_nullable, выведенный JSON тип будет `Nullable`.
## schema_inference_mode {#schema_inference_mode}   

|Тип|По умолчанию|
|---|---|
|`SchemaInferenceMode`|`default`|

Режим вывода схемы. 'default' - предполагать, что все файлы имеют одну и ту же схему и схема может быть выведена из любого файла, 'union' - файлы могут иметь разные схемы, и результирующая схема должна быть объединением схем всех файлов
## show_create_query_identifier_quoting_rule {#show_create_query_identifier_quoting_rule}   

|Тип|По умолчанию|
|---|---|
|`IdentifierQuotingRule`|`when_necessary`|

Установить правило обрамления для идентификаторов в запросе SHOW CREATE
## show_create_query_identifier_quoting_style {#show_create_query_identifier_quoting_style}   

|Тип|По умолчанию|
|---|---|
|`IdentifierQuotingStyle`|`Backticks`|

Установить стиль обрамления для идентификаторов в запросе SHOW CREATE
## type_json_skip_duplicated_paths {#type_json_skip_duplicated_paths}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`0`|

При включении, во время разбора JSON объекта в тип JSON дублированные пути будут игнорироваться, и вместо исключения будет вставлен только первый
## validate_experimental_and_suspicious_types_inside_nested_types {#validate_experimental_and_suspicious_types_inside_nested_types}   

|Тип|По умолчанию|
|---|---|
|`Bool`|`1`|

Проверять использование экспериментальных и подозрительных типов внутри вложенных типов, таких как Array/Map/Tuple
