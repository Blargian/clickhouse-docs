---
{}
---



上述机制说明了无论插入大小如何，始终存在一个固定的开销，使得批量大小成为提高 ingest 吞吐量的最重要优化因素。批量插入减少了占总插入时间的开销，提高了处理效率。

我们建议以至少 1,000 行的批次插入数据，理想情况下在 10,000 到 100,000 行之间。较少的较大插入减少了写入的部分数量，最小化了合并负载，并降低了整体系统资源使用。

**为了使同步插入策略有效，客户端需要进行批量处理。**

如果您无法在客户端进行数据批量处理，ClickHouse 支持将批处理转移到服务器的异步插入（[参见](/best-practices/selecting-an-insert-strategy#asynchronous-inserts)）。

:::tip 
无论插入的大小如何，我们建议将插入查询的数量控制在每秒大约一个插入查询。这样建议的原因在于，创建的部分在后台合并为更大的部分（以优化您的数据以进行读取查询），每秒发送过多的插入查询可能会导致后台合并无法跟上新部分的数量。然而，当您使用异步插入时，可以使用更高的每秒插入查询速率（参见异步插入）。
:::
