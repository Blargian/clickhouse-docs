---
sidebar_label: 'Встраиваемые'
slug: /integrations/embeddable
keywords: ['clickhouse', 'встраиваемые', 'соединение', 'интеграция', 'ui']
description: 'Встраиваемые — это инструмент для разработчиков для создания быстрых, интерактивных и полностью настраиваемых аналитических решений прямо в вашем приложении.'
title: 'Соединение встраиваемых с ClickHouse'
---

import ConnectionDetails from '@site/docs/_snippets/_gather_your_details_http.mdx';
import CommunityMaintainedBadge from '@theme/badges/CommunityMaintained';


# Соединение встраиваемых с ClickHouse

<CommunityMaintainedBadge/>

В [встраиваемых](https://embeddable.com/) вы определяете [Модели Данных](https://trevorio.notion.site/Data-modeling-35637bbbc01046a1bc47715456bfa1d8) и [Компоненты](https://trevorio.notion.site/Using-components-761f52ac2d0743b488371088a1024e49) в коде (хранятся в вашем собственном кодовом репозитории) и используете наш **SDK**, чтобы сделать их доступными для вашей команды в мощном **конструкторе без кода** встраиваемых.

Конечный результат — возможность предоставлять быстрые, интерактивные аналитические решения для клиентов непосредственно в вашем продукте; разработанные вашей продуктовой командой; созданные вашей инженерной командой; поддерживаемые вашими командами, работающими с клиентами и данными. Именно так это и должно быть.

Встроенная безопасность на уровне строк означает, что каждый пользователь видит только те данные, которые ему разрешено видеть. А два уровня полностью настраиваемого кеширования означают, что вы можете предоставлять быстрые аналитические решения в реальном времени в больших масштабах.

## 1. Соберите ваши данные для соединения {#1-gather-your-connection-details}
<ConnectionDetails />

## 2. Создайте тип соединения с ClickHouse {#2-create-a-clickhouse-connection-type}

Вы добавляете подключение к базе данных с использованием API встраиваемых. Это соединение используется для подключения к вашему сервису ClickHouse. Вы можете добавить соединение, используя следующий вызов API:

```javascript
// по соображениям безопасности, это никогда не должно вызываться с вашей клиентской стороны
fetch('https://api.embeddable.com/api/v1/connections', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    Accept: 'application/json',
    Authorization: `Bearer ${apiKey}` /* храните ваш API Key в безопасности */,
  },
  body: JSON.stringify({
    name: 'my-clickhouse-db',
    type: 'clickhouse',
    credentials: {
      host: 'my.clickhouse.host',
      user: 'clickhouse_user',
      port: 8443,
      password: '*****',
    },
  }),
});


Response:
Status 201 { errorMessage: null }
```

Выше представлено действие `CREATE`, но все операции `CRUD` доступные.

`apiKey` можно найти, нажав "**Опубликовать**" на одной из ваших панелей управления встраиваемыми.

`name` — это уникальное имя для идентификации этого соединения.
- По умолчанию ваши модели данных будут искать соединение с именем "default", но вы можете предоставить своим моделям разные `data_source` имена, чтобы поддерживать соединение разных моделей данных с разными соединениями (просто укажите имя data_source в модели)

`type` сообщает встраиваемым, какой драйвер использовать

- Здесь вы хотите использовать `clickhouse`, но вы можете подключить несколько различных источников данных к одной рабочей области встраиваемых, так что вы можете использовать и другие, например: `postgres`, `bigquery`, `mongodb` и т. д.

`credentials` — это объект JavaScript, содержащий необходимые учетные данные, ожидаемые драйвером
- Эти данные надежно шифруются и используются только для получения именно тех данных, которые вы описали в своих моделях данных.
Встраиваемые настоятельно рекомендуют создавать пользователя базы данных только для чтения для каждого соединения (встраиваемые будут только читать из вашей базы данных, а не писать).

Чтобы поддержать соединение с различными базами данных для prod, qa, test и т. д. (или поддержать различные базы данных для разных клиентов), вы можете назначить каждое соединение окружению (см. [Environments API](https://www.notion.so/Environments-API-497169036b5148b38f7936aa75e62949?pvs=21)).
