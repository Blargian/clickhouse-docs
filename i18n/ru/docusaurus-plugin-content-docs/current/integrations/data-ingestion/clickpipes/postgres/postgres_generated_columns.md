---
title: 'Сгенерированные столбцы PostgreSQL: Подводные камни и лучшие практики'
slug: /integrations/clickpipes/postgres/generated_columns
description: 'Страница, описывающая важные моменты, которые необходимо учитывать при использовании сгенерированных столбцов PostgreSQL в таблицах, которые реплицируются'
---

Когда вы используете сгенерированные столбцы PostgreSQL в таблицах, которые реплицируются, есть несколько важных моментов, которые необходимо учитывать. Эти подводные камни могут повлиять на процесс репликации и согласованность данных в ваших целевых системах.

## Проблема со сгенерированными столбцами {#the-problem-with-generated-columns}

1. **Не публикуются через `pgoutput`:** Сгенерированные столбцы не публикуются через плагин логической репликации `pgoutput`. Это означает, что когда вы реплицируете данные из PostgreSQL в другую систему, значения сгенерированных столбцов не включаются в поток репликации.

2. **Проблемы с первичными ключами:** Если сгенерированный столбец является частью вашего первичного ключа, это может вызвать проблемы с дедупликацией на целевой стороне. Поскольку значения сгенерированных столбцов не реплицируются, целевая система не будет иметь необходимой информации для правильной идентификации и дедупликации строк.

## Лучшие практики {#best-practices}

Чтобы обойти эти ограничения, рассмотрите следующие лучшие практики:

1. **Восстановите сгенерированные столбцы на целевой стороне:** Вместо того чтобы полагаться на процесс репликации для обработки сгенерированных столбцов, рекомендуется восстановить эти столбцы на целевой стороне с помощью таких инструментов, как dbt (инструмент сборки данных) или других механизмов трансформации данных.

2. **Избегайте использования сгенерированных столбцов в первичных ключах:** При проектировании таблиц, которые будут реплицироваться, лучше избегать включения сгенерированных столбцов в состав первичного ключа.

## Будущие улучшения интерфейса {#upcoming-improvements-to-ui}

В предстоящих версиях мы планируем добавить интерфейс, который поможет пользователям с следующими задачами:

1. **Идентификация таблиц со сгенерированными столбцами:** Интерфейс будет содержать функцию для идентификации таблиц, содержащих сгенерированные столбцы. Это поможет пользователям понять, какие таблицы затрагиваются данной проблемой.

2. **Документация и лучшие практики:** Интерфейс будет включать лучшие практики для использования сгенерированных столбцов в реплицируемых таблицах, включая рекомендации по избежанию распространенных подводных камней.
