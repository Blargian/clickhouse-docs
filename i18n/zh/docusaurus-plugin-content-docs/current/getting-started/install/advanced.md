---
'description': '编译 ClickHouse 源码或安装 CI 生成的二进制文件的 Instructions'
'keywords':
- 'ClickHouse'
- 'install'
- 'advanced'
- 'compile from source'
- 'CI generated binary'
'sidebar_label': '高级安装'
'slug': '/install/advanced'
'title': '高级安装方法'
'hide_title': false
---

## 从源代码编译 {#compile-from-source}

要手动编译 ClickHouse，请按照 [Linux](/development/build.md) 或 [macOS](/development/build-osx.md) 的说明进行操作。

您可以编译包并安装它们，或者在不安装包的情况下使用程序。

```xml
Client: <build_directory>/programs/clickhouse-client
Server: <build_directory>/programs/clickhouse-server
```

您需要手动创建数据和元数据文件夹，并为所需用户 `chown` 它们。它们的路径可以在服务器配置（src/programs/server/config.xml）中更改，默认路径为：

```bash
/var/lib/clickhouse/data/default/
/var/lib/clickhouse/metadata/default/
```

在 Gentoo 上，您只需使用 `emerge clickhouse` 从源代码安装 ClickHouse。

## 安装 CI 生成的二进制文件 {#install-a-ci-generated-binary}

ClickHouse 的持续集成（CI）基础设施为 [ClickHouse 仓库](https://github.com/clickhouse/clickhouse/) 中的每个提交生成特定的构建，例如 [sanitized](https://github.com/google/sanitizers) 构建、未优化的（Debug）构建、交叉编译构建等。虽然这些构建通常仅在开发期间有用，但在某些情况下对用户来说也可能有趣。

:::note
由于 ClickHouse 的 CI 正在不断发展，下载 CI 生成的构建的确切步骤可能会有所不同。
此外，CI 可能会删除过旧的构建工件，使其无法下载。
:::

例如，要下载 ClickHouse v23.4 的 aarch64 二进制文件，请按照以下步骤进行：

- 查找版本 v23.4 的 GitHub 拉取请求：[Release pull request for branch 23.4](https://github.com/ClickHouse/ClickHouse/pull/49238)
- 点击“Commits”，然后点击您希望安装的特定版本的一个类似于“Update autogenerated version to 23.4.2.1 and contributors”的提交。
- 点击绿色复选框 / 黄色圆点 / 红色叉号以打开 CI 检查列表。
- 点击列表中“Builds”旁边的“Details”，这将打开一个类似于 [这个页面](https://s3.amazonaws.com/clickhouse-test-reports/46793/b460eb70bf29b19eadd19a1f959b15d186705394/clickhouse_build_check/report.html) 的页面。
- 找到 compiler = "clang-*-aarch64" 的行 - 有多行。
- 下载这些构建的工件。
