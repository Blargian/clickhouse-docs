# Generating documentation from source code

A [script in our docs repo](https://github.com/ClickHouse/clickhouse-docs/blob/main/scripts/settings/autogenerate-settings.sh) 
extracts setting names, descriptions, default values, etc. from ClickHouse's source code.

## Session settings

Documentation for session settings is autogenerated from source file [`src/Core/Settings.cpp`](https://github.com/ClickHouse/ClickHouse/blob/master/src/Core/Settings.cpp).

## Format settings

Documentation for session settings is autogenerated from source file [`src/Core/FormatFactorySettings.h`](https://github.com/ClickHouse/ClickHouse/blob/master/src/Core/FormatFactorySettings.h).

## Server settings

Documentation for session settings are extracted from [`src/Core/ServerSettings.cpp`](https://github.com/ClickHouse/ClickHouse/blob/master/src/Core/ServerSettings.cpp).

Note that this file contains only a fraction of all server settings. 
The reason is that server settings can be nested and `system.server_settings` 
(which is built from `src/Core/ServerSettings.cpp`) and cannot represent nested
settings.

Example:

```yaml
<query_cache>
    <max_size_in_bytes>1073741824</max_size_in_bytes>
    <max_entries>1024</max_entries>
    <max_entry_size_in_bytes>1048576</max_entry_size_in_bytes>
    <max_entry_size_in_rows>30000000</max_entry_size_in_rows>
</query_cache>
```
As a result of the above, you will find the server settings which are not found 
in `system.server_settings` documented in file `_server_settings_outside_source.md`

The auto-generation script reads these in, combines them with the ones from 
`system.settings` and appends the formatted settings to `settings.md`.

**As such, if you need to make a change to the settings you see on the 
[server settings](clickhouse.com/docs/operations/server-configuration-parameters/) 
page, you will need to check if the setting is in `system.server_settings`. 
If it is, then please edit the setting description in the source code documentation
in [`ServerSettings.cpp`](https://github.com/ClickHouse/ClickHouse/blob/master/src/Core/ServerSettings.cpp) 
or else edit `_server_settings_outside_source.md`.**

## MergeTree settings

Documentation for MergeTree settings is autogenerated from [MergeTreeSettings.cpp](https://github.com/ClickHouse/ClickHouse/blob/master/src/Storages/MergeTree/MergeTreeSettings.cpp)

## System tables

TO DO. ETA April.

## Functions

TO DO. ETA April/May.
