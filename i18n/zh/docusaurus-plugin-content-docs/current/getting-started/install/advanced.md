---
'description': '从源代码编译ClickHouse或安装CI生成的二进制文件的说明'
'keywords':
- 'ClickHouse'
- 'install'
- 'advanced'
- 'compile from source'
- 'CI generated binary'
'sidebar_label': '高级安装'
'slug': '/install/advanced'
'title': '高级安装方法'
'hide_title': false
---



## 从源代码编译 {#compile-from-source}

要手动编译 ClickHouse，请遵循 [Linux](/development/build.md) 或 [macOS](/development/build-osx.md) 的说明。

您可以编译软件包并安装它们，或使用程序而不安装软件包。

```xml
Client: <build_directory>/programs/clickhouse-client
Server: <build_directory>/programs/clickhouse-server
```

您需要手动创建数据和元数据文件夹，并为所需的用户使用 `chown` 命令更改它们的所有权。它们的路径可以在服务器配置（src/programs/server/config.xml）中更改，默认情况下它们是：

```bash
/var/lib/clickhouse/data/default/
/var/lib/clickhouse/metadata/default/
```

在 Gentoo 上，您可以使用 `emerge clickhouse` 从源代码安装 ClickHouse。

## 安装 CI 生成的二进制文件 {#install-a-ci-generated-binary}

ClickHouse 的持续集成 (CI) 基础设施为 [ClickHouse
存储库](https://github.com/clickhouse/clickhouse/) 中的每次提交生成专用构建，例如 [sanitized](https://github.com/google/sanitizers) 构建、未优化的 (Debug)
构建、交叉编译构建等。虽然这种构建在开发过程中通常才有用，但在某些情况下也可能对用户感兴趣。

:::note
由于 ClickHouse 的 CI 随时间变化而发展，下载 CI 生成构建的确切步骤可能会有所不同。
此外，CI 可能会删除过旧的构建工件，使其无法下载。
:::

例如，要下载 ClickHouse v23.4 的 aarch64 二进制文件，请按照以下步骤操作：

- 找到版本 v23.4 的 GitHub 拉取请求：[Release pull request for branch 23.4](https://github.com/ClickHouse/ClickHouse/pull/49238)
- 点击“Commits”，然后点击一个类似“Update autogenerated version to 23.4.2.1 and contributors”的提交，针对您喜欢安装的特定版本。
- 点击绿色勾 / 黄色点 / 红色叉，打开 CI 检查的列表。
- 在列表中点击“Builds”旁边的“Details”，这将打开一个类似于 [这个页面](https://s3.amazonaws.com/clickhouse-test-reports/46793/b460eb70bf29b19eadd19a1f959b15d186705394/clickhouse_build_check/report.html) 的页面。
- 找到 `compiler = "clang-*-aarch64"` 的行 - 有多行。
- 下载这些构建的工件。
