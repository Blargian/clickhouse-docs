---
description: 'ログエンジンファミリーに関するドキュメント'
sidebar_label: 'ログファミリー'
sidebar_position: 20
slug: /engines/table-engines/log-family/
title: 'ログエンジンファミリー'
---


# ログエンジンファミリー

これらのエンジンは、約100万行までの多くの小さなテーブルを迅速に書き込み、その後全体を読み取る必要があるシナリオのために開発されました。

ファミリーのエンジン:

| ログエンジン                                                  |
|-------------------------------------------------------------|
| [StripeLog](/engines/table-engines/log-family/stripelog.md) |
| [Log](/engines/table-engines/log-family/log.md)             |
| [TinyLog](/engines/table-engines/log-family/tinylog.md)     |

`Log` ファミリーのテーブルエンジンは、[HDFS](/engines/table-engines/integrations/hdfs) または [S3](/engines/table-engines/mergetree-family/mergetree.md/#table_engine-mergetree-s3) の分散ファイルシステムにデータを保存できます。

:::warning このエンジンはログデータ用ではありません。
名前とは裏腹に、*Log テーブルエンジンはログデータの保存を目的としたものではありません。 それは迅速に書き込む必要がある小さなボリュームのみに使用すべきです。
:::

## 共通のプロパティ {#common-properties}

エンジン:

- ディスクにデータを保存します。

- 書き込み時にファイルの末尾にデータを追加します。

- 同時データアクセスのためのロックをサポートします。

    `INSERT` クエリ中、テーブルはロックされ、その他のデータの読み書きに関するクエリは、テーブルのロック解除を待ちます。データ書き込みクエリがない場合、任意の数のデータ読み込みクエリが同時に実行できます。

- [マテーション](/sql-reference/statements/alter#mutations)をサポートしていません。

- インデックスをサポートしていません。

    これは、データの範囲に関する `SELECT` クエリが効率的でないことを意味します。

- データを原子単位で書き込むことはできません。

    書き込み操作が中断されると、壊れたデータのテーブルが得られる可能性があります。例えば、異常なサーバーシャットダウンなどです。

## 違い {#differences}

`TinyLog` エンジンはファミリーの中で最も単純で、機能が最も乏しく、効率も最低です。`TinyLog` エンジンは、単一のクエリで複数のスレッドによる並列データ読み込みをサポートしていません。他のエンジンよりもデータのリードが遅く、`Log` エンジンとほぼ同数のファイルディスクリプタを使用します。これは、各カラムを別々のファイルに保存するためです。単純なシナリオでのみ使用してください。

`Log` および `StripeLog` エンジンは並列データ読み込みをサポートしています。データを読み取るとき、ClickHouseは複数のスレッドを使用します。それぞれのスレッドが別々のデータブロックを処理します。`Log` エンジンはテーブルの各カラムに対して別々のファイルを使用します。`StripeLog` はすべてのデータを1つのファイルに保存します。その結果、`StripeLog` エンジンはファイルディスクリプタを少なく使いますが、`Log` エンジンはデータの読み込み時により高い効率を提供します。
