---
'title': 'Postgres 生成列：注意事项和最佳实践'
'slug': '/integrations/clickpipes/postgres/generated_columns'
'description': '页面描述在使用 PostgreSQL 生成列时需要在被复制的表中记住的重要考虑事项'
---

在使用 PostgreSQL 的生成列并进行复制的表时，有一些重要的注意事项需要牢记。这些问题可能会影响复制过程和目标系统中的数据一致性。

## 生成列的问题 {#the-problem-with-generated-columns}

1. **未通过 `pgoutput` 发布：** 生成列不会通过 `pgoutput` 逻辑复制插件发布。这意味着当您将数据从 PostgreSQL 复制到另一个系统时，生成列的值不会包含在复制流中。

2. **主键问题：** 如果生成列是您主键的一部分，它可能会在目标系统中造成去重问题。由于生成列的值没有被复制，目标系统将无法拥有必要的信息来正确识别和去重行。

## 最佳实践 {#best-practices}

为了解决这些限制，请考虑以下最佳实践：

1. **在目标上重新创建生成列：** 与其依赖复制过程处理生成列，推荐在目标上使用 dbt（数据构建工具）或其他数据转换机制重新创建这些列。

2. **避免在主键中使用生成列：** 在设计将要被复制的表时，最好避免将生成列包含在主键中。

## 即将推出的 UI 改进 {#upcoming-improvements-to-ui}

在即将发布的版本中，我们计划添加一个 UI 来帮助用户完成以下任务：

1. **识别包含生成列的表：** 该 UI 将具有识别包含生成列的表的功能。这将帮助用户了解哪些表受到此问题的影响。

2. **文档和最佳实践：** UI 将包括在复制表中使用生成列的最佳实践，包括如何避免常见陷阱的指导。
