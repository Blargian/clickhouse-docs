---
title: 'Сгенерированные столбцы PostgreSQL: подводные камни и лучшие практики'
slug: /integrations/clickpipes/postgres/generated_columns
description: 'Страница, описывающая важные моменты, которые необходимо учитывать при использовании сгенерированных столбцов PostgreSQL в таблицах, которые реплицируются'
---

При использовании сгенерированных столбцов PostgreSQL в таблицах, которые реплицируются, есть несколько важных моментов, которые нужно учитывать. Эти подводные камни могут повлиять на процесс репликации и согласованность данных в ваших целевых системах.

## Проблема со сгенерированными столбцами {#the-problem-with-generated-columns}

1. **Не публикуются через `pgoutput`:** Сгенерированные столбцы не публикуются через плагин логической репликации `pgoutput`. Это значит, что при репликации данных из PostgreSQL в другую систему значения сгенерированных столбцов не входят в поток репликации.

2. **Проблемы с первичными ключами:** Если сгенерированный столбец является частью вашего первичного ключа, это может вызвать проблемы с дедупликацией на целевой стороне. Поскольку значения сгенерированных столбцов не реплицируются, целевая система не будет иметь необходимую информацию для правильной идентификации и дедупликации строк.

## Лучшие практики {#best-practices}

Чтобы обойти эти ограничения, рассмотрите следующие лучшие практики:

1. **Воссоздайте сгенерированные столбцы на целевой стороне:** Вместо того чтобы полагаться на процесс репликации для обработки сгенерированных столбцов, рекомендуется воссоздавать эти столбцы на целевой стороне с помощью таких инструментов, как dbt (инструмент построения данных) или других механизмов преобразования данных.

2. **Избегайте использования сгенерированных столбцов в первичных ключах:** При проектировании таблиц, которые будут реплицироваться, лучше избегать включения сгенерированных столбцов в состав первичного ключа.

## Будущие улучшения в интерфейсе {#upcoming-improvements-to-ui}

В предстоящих версиях мы планируем добавить интерфейс, который поможет пользователям с следующими задачами:

1. **Идентификация таблиц со сгенерированными столбцами:** Интерфейс будет включать функцию для идентификации таблиц, содержащих сгенерированные столбцы. Это поможет пользователям понять, какие таблицы затронуты этой проблемой.

2. **Документация и лучшие практики:** Интерфейс будет включать лучшие практики по использованию сгенерированных столбцов в реплицируемых таблицах, включая рекомендации о том, как избежать распространенных ошибок.
