---
'description': 'ソースから ClickHouse をコンパイルする方法や CI で生成されたバイナリをインストールする手順'
'keywords':
- 'ClickHouse'
- 'install'
- 'advanced'
- 'compile from source'
- 'CI generated binary'
'sidebar_label': '高度なインストール'
'slug': '/install/advanced'
'title': '高度なインストール方法'
'hide_title': false
---



## ソースからコンパイルする {#compile-from-source}

ClickHouseを手動でコンパイルするには、[Linux](/development/build.md)または[macOS](/development/build-osx.md)の手順に従ってください。

パッケージをコンパイルしてインストールするか、パッケージをインストールせずにプログラムを使用できます。

```xml
Client: <build_directory>/programs/clickhouse-client
Server: <build_directory>/programs/clickhouse-server
```

データおよびメタデータフォルダは手動で作成する必要があり、所定のユーザーに対して`chown`する必要があります。これらのパスはサーバー設定（src/programs/server/config.xml）で変更できますが、デフォルトでは次のようになります。

```bash
/var/lib/clickhouse/data/default/
/var/lib/clickhouse/metadata/default/
```

Gentooでは、`emerge clickhouse`を使用してソースからClickHouseをインストールできます。

## CI生成バイナリのインストール {#install-a-ci-generated-binary}

ClickHouseの継続的インテグレーション（CI）インフラストラクチャは、[ClickHouseリポジトリ](https://github.com/clickhouse/clickhouse/)の各コミットに対して特別なビルドを生成します。例として、[sanitized](https://github.com/google/sanitizers)ビルド、最適化されていない（Debug）ビルド、クロスコンパイルされたビルドなどがあります。このようなビルドは通常、開発中にのみ有用ですが、特定の状況ではユーザーにも興味深い場合があります。

:::note
ClickHouseのCIは進化しているため、CI生成ビルドのダウンロード手順は変更される可能性があります。また、CIは古すぎるビルドアーティファクトを削除することがあるため、ダウンロードできなくなる場合があります。
:::

例えば、ClickHouse v23.4のaarch64バイナリをダウンロードするには、次の手順に従ってください。

- リリースv23.4のGitHubプルリクエストを見つける: [リリースプルリクエスト（ブランチ23.4）](https://github.com/ClickHouse/ClickHouse/pull/49238)
- 「Commits」をクリックし、インストールしたい特定のバージョンの「Update autogenerated version to 23.4.2.1 and contributors」に類似したコミットをクリックします。
- CIチェックのリストを開くために緑のチェックマーク / 黄色の点 / 赤いバツをクリックします。
- リスト内の「Builds」の横にある「Details」をクリックします。これにより、[このページ](https://s3.amazonaws.com/clickhouse-test-reports/46793/b460eb70bf29b19eadd19a1f959b15d186705394/clickhouse_build_check/report.html)のようなページが開きます。
- "compiler = 'clang-*-aarch64'" の行を見つけます - 複数の行があります。
- これらのビルドに対するアーティファクトをダウンロードします。
