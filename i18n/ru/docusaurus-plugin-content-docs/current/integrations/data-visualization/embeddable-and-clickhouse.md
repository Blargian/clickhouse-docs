---
sidebar_label: 'Встраиваемое'
slug: /integrations/embeddable
keywords: ['clickhouse', 'Встраиваемое', 'подключение', 'интеграция', 'ui']
description: 'Встраиваемое - это набор инструментов для разработчиков, позволяющий создавать быстрые, интерактивные, полностью настраиваемые аналитические решения непосредственно в вашем приложении.'
title: 'Подключение Встраиваемого к ClickHouse'
---

import ConnectionDetails from '@site/docs/_snippets/_gather_your_details_http.mdx';
import CommunityMaintainedBadge from '@theme/badges/CommunityMaintained';


# Подключение Встраиваемого к ClickHouse

<CommunityMaintainedBadge/>

В [Встраиваемом](https://embeddable.com/) вы определяете [Модели Данных](https://docs.embeddable.com/data-modeling/introduction) и [Компоненты](https://docs.embeddable.com/development/introduction) в коде (хранящимися в вашем собственном репозитории кода) и используете наш **SDK**, чтобы сделать их доступными для вашей команды в мощном **безкодовом конструкторе** Встраиваемого.

Конечный результат - возможность предоставлять быстрые, интерактивные аналитические данные для клиентов прямо в вашем продукте; разработанные вашей продуктовой командой; созданные вашей инженерной командой; поддерживаемые вашими командами по работе с клиентами и данным. Именно так это и должно быть.

Встроенная безопасность на уровне строк означает, что каждый пользователь всегда видит только те данные, которые ему разрешено видеть. А два уровня полностью конфигурируемого кэширования позволяют вам предоставлять быстрые аналитические данные в реальном времени в масштабе.


## 1. Соберите детали вашего подключения {#1-gather-your-connection-details}
<ConnectionDetails />

## 2. Создайте тип подключения ClickHouse {#2-create-a-clickhouse-connection-type}

Вы добавляете подключение к базе данных, используя Embeddable API. Это подключение используется для подключения к вашему сервису ClickHouse. Вы можете добавить подключение, используя следующий вызов API:

```javascript
// по соображениям безопасности этот вызов НИКОГДА не должен выполняться на клиентской стороне
fetch('https://api.embeddable.com/api/v1/connections', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    Accept: 'application/json',
    Authorization: `Bearer ${apiKey}` /* храните ваш API ключ в безопасности */,
  },
  body: JSON.stringify({
    name: 'my-clickhouse-db',
    type: 'clickhouse',
    credentials: {
      host: 'my.clickhouse.host',
      user: 'clickhouse_user',
      port: 8443,
      password: '*****',
    },
  }),
});


Response:
Status 201 { errorMessage: null }
```

Вышеуказанное представляет собой действие `CREATE`, но все операции `CRUD` доступны.

`apiKey` можно найти, нажав на "**Опубликовать**" на одной из ваших панелей управления Встраиваемым.

`name` - это уникальное имя для идентификации этого подключения.
- По умолчанию ваши модели данных будут искать подключение с именем "default", но вы можете предоставить своим моделям различные `data_source` имена, чтобы поддерживать подключение различных моделей данных к различным подключениям (просто укажите имя data_source в модели)

`type` указывает Встраиваемому, какой драйвер использовать

- Здесь вы захотите использовать `clickhouse`, но вы можете подключить несколько различных источников данных к одной рабочей области Встраиваемого, поэтому вы можете использовать и другие, такие как: `postgres`, `bigquery`, `mongodb` и т.д.

`credentials` - это объект JavaScript, содержащий необходимые учетные данные, ожидаемые драйвером
- Эти данные безопасно шифруются и используются только для извлечения именно тех данных, которые вы описали в своих моделях данных.
Встраиваемое настоятельно рекомендует создать пользователя базы данных только для чтения для каждого подключения (Встраиваемое будет только читать из вашей базы данных, а не записывать).

Чтобы поддерживать подключение к различным базам данных для prod, qa, test и т.д. (или для поддержки различных баз данных для разных клиентов), вы можете назначить каждое подключение окружению (см. [Environments API](https://docs.embeddable.com/data/environments)).
