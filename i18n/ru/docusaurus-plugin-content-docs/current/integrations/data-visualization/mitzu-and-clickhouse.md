---
sidebar_label: 'Mitzu'
slug: /integrations/mitzu
keywords: ['clickhouse', 'Mitzu', 'connect', 'integrate', 'ui']
description: 'Mitzu — это приложение для аналитики продуктов, не требующее написания кода и интегрированное с хранилищем данных.'
title: 'Подключение Mitzu к ClickHouse'
---

import ConnectionDetails from '@site/i18n/ru/docusaurus-plugin-content-docs/current/_snippets/_gather_your_details_http.mdx';
import Image from '@theme/IdealImage';
import mitzu_01 from '@site/static/images/integrations/data-visualization/mitzu_01.png';
import mitzu_02 from '@site/static/images/integrations/data-visualization/mitzu_02.png';
import mitzu_03 from '@site/static/images/integrations/data-visualization/mitzu_03.png';
import mitzu_04 from '@site/static/images/integrations/data-visualization/mitzu_04.png';
import mitzu_05 from '@site/static/images/integrations/data-visualization/mitzu_05.png';
import mitzu_06 from '@site/static/images/integrations/data-visualization/mitzu_06.png';
import mitzu_07 from '@site/static/images/integrations/data-visualization/mitzu_07.png';
import mitzu_08 from '@site/static/images/integrations/data-visualization/mitzu_08.png';
import mitzu_09 from '@site/static/images/integrations/data-visualization/mitzu_09.png';
import mitzu_10 from '@site/static/images/integrations/data-visualization/mitzu_10.png';
import mitzu_11 from '@site/static/images/integrations/data-visualization/mitzu_11.png';
import CommunityMaintainedBadge from '@theme/badges/CommunityMaintained';


# Подключение Mitzu к ClickHouse

<CommunityMaintainedBadge/>

Mitzu — это приложение для аналитики продуктов, не требующее написания кода и интегрированное с хранилищем данных. Похожее на такие инструменты, как Amplitude, Mixpanel и PostHog, Mitzu позволяет пользователям анализировать данные о использовании продукта, не требуя знаний SQL или Python.

Однако, в отличие от этих платформ, Mitzu не дублирует данные о использовании продукта компании. Вместо этого оно генерирует нативные SQL-запросы непосредственно на существующем хранилище данных или в озере данных компании.

## Цель {#goal}

В этом руководстве мы рассмотрим следующее:

- Аналитика продуктов, интегрированная с хранилищем данных
- Как интегрировать Mitzu с ClickHouse

:::tip Пример наборов данных
Если у вас нет набора данных для использования с Mitzu, вы можете использовать данные такси Нью-Йорка.
Этот набор данных доступен в ClickHouse Cloud или [может быть загружен с помощью этих инструкций](/getting-started/example-datasets/nyc-taxi).
:::

Это руководство является лишь кратким обзором того, как использовать Mitzu. Вы можете найти более подробную информацию в [документации Mitzu](https://docs.mitzu.io/).

## 1. Соберите свои данные для подключения {#1-gather-your-connection-details}

<ConnectionDetails />

## 2. Войдите или зарегистрируйтесь в Mitzu {#2-sign-in-or-sign-up-to-mitzu}

На первом этапе перейдите на [https://app.mitzu.io](https://app.mitzu.io) для регистрации.

<Image size="lg" img={mitzu_01} alt="Страница входа в Mitzu с полями для ввода электронной почты и пароля" border />

## 3. Настройте рабочee место {#3-configure-your-workspace}

После создания организации следуйте руководству по настройке вашего рабочего места в боковой панели. Затем нажмите на ссылку `Соединить Mitzu с вашим хранилищем данных`.

<Image size="lg" img={mitzu_02} alt="Страница настройки рабочего места Mitzu с шагами по адаптации" border />

## 4. Подключите Mitzu к ClickHouse {#4-connect-mitzu-to-clickhouse}

Сначала выберите ClickHouse в качестве типа подключения и укажите данные подключения. Затем нажмите кнопку `Проверить подключение и сохранить`, чтобы сохранить настройки.

<Image size="lg" img={mitzu_03} alt="Страница настройки подключения Mitzu к ClickHouse с формой конфигурации" border />

## 5. Настройте таблицы событий {#5-configure-event-tables}

После сохранения подключения выберите вкладку `Таблицы событий` и нажмите кнопку `Добавить таблицу`. В модальном окне выберите вашу базу данных и таблицы, которые вы хотите добавить в Mitzu.

Используйте флажки, чтобы выбрать хотя бы одну таблицу и нажмите кнопку `Настроить таблицу`. Это откроет модальное окно, где вы можете задать ключевые столбцы для каждой таблицы.

<Image size="lg" img={mitzu_04} alt="Интерфейс выбора таблицы Mitzu, показывающий таблицы в базе данных" border />
<br/>

> Чтобы проводить аналитику продуктов в вашей настройке ClickHouse, вам нужно > указать несколько ключевых столбцов из вашей таблицы.
>
> К ним относятся следующие:
>
> - **User id** - столбец для уникального идентификатора пользователей.
> - **Event time** - столбец временной метки ваших событий.
> - Опционально [**Event name**] - Этот столбец сегментирует события, если в таблице содержится несколько типов событий.

<Image size="lg" img={mitzu_05} alt="Настройка каталога событий Mitzu, показывающая параметры сопоставления столбцов" border />
<br/>
Как только все таблицы настроены, нажмите кнопку `Сохранить и обновить каталог событий`, и Mitzu найдет все события и их параметры из вышеуказанной таблицы. Этот шаг может занять несколько минут в зависимости от размера вашего набора данных.

## 4. Выполните запросы сегментации {#4-run-segmentation-queries}

Сегментация пользователей в Mitzu так же проста, как и в Amplitude, Mixpanel или PostHog.

Страница Исследования имеет область выбора событий слева, в то время как верхняя часть позволяет вам настроить временной интервал.

<Image size="lg" img={mitzu_06} alt="Интерфейс запроса сегментации Mitzu с выбором события и конфигурацией времени" border />

<br/>

:::tip Фильтры и Разбиение
Фильтрация осуществляется так, как вы можете ожидать: выберите свойство (столбец ClickHouse) и выберите значения из выпадающего списка, которые вы хотите отфильтровать.
Вы можете выбрать любое событие или свойство пользователя для разбиений (см. ниже, как интегрировать свойства пользователей).
:::

## 5. Выполните запросы воронки {#5-run-funnel-queries}

Выберите до 9 шагов для воронки. Выберите временной интервал, в течение которого ваши пользователи могут завершить воронку.
Получите мгновенные сведения о коэффициенте конверсии, не написав ни одной строки SQL-кода.

<Image size="lg" img={mitzu_07} alt="Вид анализа воронки Mitzu, показывающий коэффициенты конверсии между шагами" border />

<br/>

:::tip Визуализируйте тренды
Выберите `Тренды воронки`, чтобы визуализировать тренды воронки с течением времени.
:::

## 6. Выполните запросы удержания {#6-run-retention-queries}

Выберите до 2 шагов для расчета коэффициента удержания. Выберите окно удержания для периодического окна.
Получите мгновенные сведения о коэффициенте конверсии, не написав ни одной строки SQL-кода.

<Image size="lg" img={mitzu_08} alt="Анализ удержания Mitzu, показывающий коэффициенты удержания когорты" border />

<br/>

:::tip Удержание когорты
Выберите `Удержание по неделям`, чтобы визуализировать, как ваши коэффициенты удержания меняются со временем.
:::


## 7. Выполните запросы о пути {#7-run-journey-queries}
Выберите до 9 шагов для воронки. Выберите временной интервал, в течение которого ваши пользователи могут завершить путь. Диаграмма пути Mitzu дает вам визуальную карту каждого пути, которым пользователи следуют через выбранные события.

<Image size="lg" img={mitzu_09} alt="Визуализация пути Mitzu, показывающая поток действий пользователей между событиями" border />
<br/>

:::tip Разбейте шаги
Вы можете выбрать свойство для сегмента `Разделить`, чтобы различать пользователей на одном и том же шаге.
:::

<br/>

## 8. Выполните запросы о доходах {#8-run-revenue-queries}
Если настройки доходов настроены, Mitzu может рассчитывать общий MRR и количество подписок на основе ваших платежных событий.

<Image size="lg" img={mitzu_10} alt="Панель анализа доходов Mitzu, показывающая метрики MRR" border />

## 9. SQL нативный {#9-sql-native}

Mitzu является SQL Native, что означает, что он генерирует нативный SQL-код на основе вашей выбранной конфигурации на странице Исследований.

<Image size="lg" img={mitzu_11} alt="Вид генерации SQL-кода Mitzu, показывающий нативный запрос ClickHouse" border />

<br/>

:::tip Продолжите свою работу в BI инструменте
Если вы столкнулись с ограничением интерфейса Mitzu, скопируйте SQL-код и продолжите свою работу в BI инструменте.
:::

## Поддержка Mitzu {#mitzu-support}

Если вы запутались, не стесняйтесь обращаться к нам по адресу [support@mitzu.io](email://support@mitzu.io)

Или вы можете присоединиться к нашему сообществу в Slack [здесь](https://join.slack.com/t/mitzu-io/shared_invite/zt-1h1ykr93a-_VtVu0XshfspFjOg6sczKg)

## Узнайте больше {#learn-more}

Узнайте больше о Mitzu на [mitzu.io](https://mitzu.io)

Посетите нашу страницу документации на [docs.mitzu.io](https://docs.mitzu.io)
