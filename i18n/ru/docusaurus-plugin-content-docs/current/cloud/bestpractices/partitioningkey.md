---
slug: /cloud/bestpractices/low-cardinality-partitioning-key
sidebar_label: 'Выбор ключа партиционирования с низкой кардинальностью'
title: 'Выбор ключа партиционирования с низкой кардинальностью'
description: 'Страница, описывающая, почему вы должны выбрать ключ партиционирования с низкой кардинальностью как наилучшую практику'
---

import Image from '@theme/IdealImage';
import partitioning01 from '@site/static/images/cloud/bestpractices/partitioning-01.png';
import partitioning02 from '@site/static/images/cloud/bestpractices/partitioning-02.png';

Когда вы отправляете оператор вставки (который должен содержать много строк - смотрите [раздел выше](/optimize/bulk-inserts)) в таблицу в ClickHouse Cloud, и эта таблица не использует [ключ партиционирования](/engines/table-engines/mergetree-family/custom-partitioning-key.md), то все данные строк из этой вставки записываются в новую партию в хранилище:

<Image img={partitioning01} size="md" alt="Вставка без ключа партиционирования - создана одна партия" background="white"/>

Однако, когда вы отправляете оператор вставки в таблицу в ClickHouse Cloud, и эта таблица имеет ключ партиционирования, то ClickHouse:
- проверяет значения ключа партиционирования строк, содержащихся в вставке
- создает одну новую партию в хранилище для каждого уникального значения ключа партиционирования
- размещает строки в соответствующих партиях по значениям ключа партиционирования

<Image img={partitioning02} size="md" alt="Вставка с ключом партиционирования - создано несколько партий на основе значений ключа партиционирования" background="white"/>

Следовательно, чтобы минимизировать количество запросов на запись в объектное хранилище ClickHouse Cloud, используйте ключ партиционирования с низкой кардинальностью или избегайте использования любого ключа партиционирования для вашей таблицы.
