---
sidebar_label: 'Обновления'
slug: /manage/updates
title: 'Обновления'
description: 'С ClickHouse Cloud вам никогда не нужно беспокоиться о патчах и обновлениях. Мы периодически выпускаем обновления, которые включают исправления, новые функции и улучшения производительности.'
---

import Image from '@theme/IdealImage';
import EnterprisePlanFeatureBadge from '@theme/badges/EnterprisePlanFeatureBadge'
import ScalePlanFeatureBadge from '@theme/badges/ScalePlanFeatureBadge'
import fast_release from '@site/static/images/cloud/manage/fast_release.png';
import enroll_fast_release from '@site/static/images/cloud/manage/enroll_fast_release.png';
import scheduled_upgrades from '@site/static/images/cloud/manage/scheduled_upgrades.png';
import scheduled_upgrade_window from '@site/static/images/cloud/manage/scheduled_upgrade_window.png';


# Обновления

С ClickHouse Cloud вам никогда не нужно беспокоиться о патчах и обновлениях. Мы периодически выпускаем обновления, которые включают исправления, новые функции и улучшения производительности. Для получения полного списка нововведений в ClickHouse обратитесь к нашему [Changelog облака](/cloud/reference/changelog.md).

:::note
Мы вводим новый механизм обновления, концепцию, которую мы называем "сделать перед разрывом" (или MBB). С этим новым подходом мы добавляем обновленные реплики перед удалением старых во время операции обновления. Это приводит к более плавным обновлениям, которые менее разрушительны для выполняемых рабочих нагрузок.

В рамках этого изменения исторические данные системных таблиц будут сохраняться в течение максимума 30 дней как часть событий обновления. Кроме того, любые данные системных таблиц старше 19 декабря 2024 года для услуг на AWS или GCP и старше 14 января 2025 года для услуг на Azure не будут сохранены в рамках миграции на новые уровни организации.
:::

## Совместимость версий {#version-compatibility}

Когда вы создаете сервис, настройка [`compatibility`](/operations/settings/settings#compatibility) устанавливается на самую актуальную версию ClickHouse, предлагаемую в ClickHouse Cloud на момент первоначального запуска вашего сервиса.

Настройка `compatibility` позволяет вам использовать значения по умолчанию для настроек из предыдущих версий. Когда ваш сервис обновляется до новой версии, версия, указанная для настройки `compatibility`, не меняется. Это означает, что значения по умолчанию для настроек, существовавших при первом создании вашего сервиса, не изменятся (если вы ранее не переопределили эти значения по умолчанию, в этом случае они останутся после обновления).

Вы не можете управлять настройкой `compatibility` для вашего сервиса. Вам необходимо [связаться с поддержкой](https://clickhouse.com/support/program), если вы хотите изменить версию, установленную для вашей настройки `compatibility`.

## Режим обслуживания {#maintenance-mode}

Временами может потребоваться обновить ваш сервис, что может заставить нас отключить некоторые функции, такие как масштабирование или простои. В редких случаях нам может понадобиться предпринять действия с сервисом, испытывающим проблемы, и вернуть его в здоровое состояние. Во время такого обслуживания вы увидите баннер на странице сервиса с надписью _"В процессе обслуживания"_. Вы все равно сможете использовать сервис для выполнения запросов в это время.

Вам не будет выставлен счет за время, в течение которого сервис находится в режиме обслуживания. _Режим обслуживания_ — это редкое событие и не должно путаться с обычными обновлениями сервиса.

## Каналы выпуска (график обновлений) {#release-channels-upgrade-schedule}

Вы можете задать график обновлений для вашего сервиса ClickHouse Cloud, подписавшись на конкретный канал выпуска.

### Канал быстрого выпуска (ранние обновления) {#fast-release-channel-early-upgrades}

<ScalePlanFeatureBadge feature="Канал быстрого выпуска"/>

Кроме обычного графика обновлений, мы предлагаем **Канал быстрого выпуска**, если вы хотите, чтобы ваши сервисы получали обновления раньше обычного графика выпуска.

В частности, сервисы будут:

- Получать последние релизы ClickHouse
- Более частые обновления по мере тестирования новых релизов

Вы можете изменить график обновлений сервиса в облачной консоли, как показано ниже:

<div class="eighty-percent">
    <Image img={fast_release} size="lg" alt="Выбрать план" border/>
</div>
<br/>

<div class="eighty-percent">
    <Image img={enroll_fast_release} size="lg" alt="Выбрать план" border/>
</div>
<br/>

Этот **Канал быстрого выпуска** подходит для тестирования новых функций в некритичных средах. **Не рекомендуется для производственных рабочих нагрузок с строгими требованиями к времени безотказной работы и надежности.**

### Обычный канал выпуска {#regular-release-channel}

Для всех сервисов уровня Scale и Enterprise, которые не имеют настроенного канала выпуска или графика обновлений, обновления будут производиться в рамках Обычного канала выпуска. Это рекомендуется для производственных сред.

Обновления для обычного канала выпуска обычно выполняются через две недели после **Канала быстрого выпуска**.

:::note
Сервисы уровня Basic обновляются вскоре после Канала быстрого выпуска.
:::

## Запланированные обновления {#scheduled-upgrades}

<EnterprisePlanFeatureBadge feature="Запланированные обновления" linking_verb_are="true"/>

Пользователи могут настроить окно обновления для сервисов уровня Enterprise.

Выберите сервис, для которого вы хотите указать запланированные обновления, затем выберите `Настройки` в левом меню. Прокрутите вниз до `Запланированные обновления`.

<div class="eighty-percent">
    <Image img={scheduled_upgrades} size="lg" alt="Запланированные обновления" border/>
</div>
<br/>

Выбор этой опции позволит пользователям выбрать день недели/временной интервал для обновлений базы данных и облака.

<div class="eighty-percent">
    <Image img={scheduled_upgrade_window} size="lg" alt="Окно запланированного обновления" border/>
</div>
<br/>
:::note
Хотя запланированные обновления следуют установленному графику, исключения применяются для критических патчей безопасности и исправлений уязвимостей. В случаях, когда выявлена срочная проблема безопасности, обновления могут быть выполнены вне запланированного окна. Клиенты будут уведомлены о таких исключениях по мере необходимости.
:::
