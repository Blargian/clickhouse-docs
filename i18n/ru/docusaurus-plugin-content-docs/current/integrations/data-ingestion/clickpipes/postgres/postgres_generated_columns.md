---
title: 'Сгенерированные Столбцы PostgreSQL: Ошибки и Лучшие Практики'
slug: /integrations/clickpipes/postgres/generated_columns
description: 'Страница, описывающая важные аспекты, которые следует учитывать при использовании сгенерированных столбцов PostgreSQL в таблицах, которые реплицируются'
---

При использовании сгенерированных столбцов PostgreSQL в таблицах, которые реплицируются, есть несколько важных аспектов, которые следует учитывать. Эти ошибки могут повлиять на процесс репликации и согласованность данных в ваших целевых системах.

## Проблема с Сгенерированными Столбцами {#the-problem-with-generated-columns}

1. **Не публикуются через `pgoutput`:** Сгенерированные столбцы не публикуются через плагин логической репликации `pgoutput`. Это означает, что при репликации данных из PostgreSQL в другую систему значения сгенерированных столбцов не включаются в поток репликации.

2. **Проблемы с Первичными Ключами:** Если сгенерированный столбец является частью вашего первичного ключа, это может вызвать проблемы с дедупликацией на целевой системе. Поскольку значения сгенерированного столбца не реплицируются, целевая система не будет иметь необходимой информации для правильной идентификации и дедупликации строк.

## Лучшие Практики {#best-practices}

Чтобы обойти эти ограничения, рассмотрите следующие лучшие практики:

1. **Воссоздайте Сгенерированные Столбцы на Целевой Системе:** Вместо того чтобы полагаться на процесс репликации для обработки сгенерированных столбцов, рекомендуется воссоздавать эти столбцы на целевой системе с помощью таких инструментов, как dbt (инструмент построения данных) или других механизмов трансформации данных.

2. **Избегайте Использования Сгенерированных Столбцов в Первичных Ключах:** При проектировании таблиц, которые будут реплицироваться, лучше избегать включения сгенерированных столбцов в состав первичного ключа.

## Предстоящие Улучшения UI {#upcoming-improvements-to-ui}

В предстоящих версиях мы планируем добавить интерфейс для помощи пользователям с следующими задачами:

1. **Идентификация Таблиц с Сгенерированными Столбцами:** Интерфейс будет иметь функцию для идентификации таблиц, содержащих сгенерированные столбцы. Это поможет пользователям понять, какие таблицы затронуты этой проблемой.

2. **Документация и Лучшие Практики:** Интерфейс будет включать лучшие практики для использования сгенерированных столбцов в реплицируемых таблицах, включая рекомендации о том, как избежать распространенных ошибок.
