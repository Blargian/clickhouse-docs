---
sidebar_label: 'Встраиваемый'
slug: /integrations/embeddable
keywords: ['clickhouse', 'Встраиваемый', 'соединить', 'интегрировать', 'ui']
description: 'Встраиваемый - это набор инструментов для разработчиков, позволяющий создавать быстрые, интерактивные, полностью настраиваемые аналитические интерфейсы непосредственно в вашем приложении.'
title: 'Соединение Встраиваемого с ClickHouse'
---

import ConnectionDetails from '@site/docs/_snippets/_gather_your_details_http.mdx';
import CommunityMaintainedBadge from '@theme/badges/CommunityMaintained';


# Соединение Встраиваемого с ClickHouse

<CommunityMaintainedBadge/>

В [Встраиваемом](https://embeddable.com/) вы определяете [Модели Данных](https://docs.embeddable.com/data-modeling/introduction) и [Компоненты](https://docs.embeddable.com/development/introduction) в коде (хранятся в вашем собственном репозитории кода) и используете наш **SDK**, чтобы сделать их доступными для вашей команды в мощном **конструкторе без кода** Встраиваемого.

Конечный результат - это возможность предоставлять быстрые, интерактивные аналитические данные, ориентированные на клиента, прямо в вашем продукте; разработанные вашей продуктовой командой; построенные вашей инженерной командой; поддерживаемые вашими командами, работающими с клиентами и данными. Именно так это и должно быть.

Встроенная безопасность на уровне строк означает, что каждый пользователь всегда видит только те данные, которые ему разрешено видеть. А два уровня полностью настраиваемого кэширования позволяют вам предоставлять быстрые аналитические данные в реальном времени в масштабе.

## 1. Соберите свои данные для подключения {#1-gather-your-connection-details}
<ConnectionDetails />

## 2. Создайте тип соединения ClickHouse {#2-create-a-clickhouse-connection-type}

Вы добавляете подключение к базе данных, используя API Встраиваемого. Это соединение используется для подключения к вашему сервису ClickHouse. Вы можете добавить соединение с помощью следующего вызова API:

```javascript
// по соображениям безопасности, это *никогда* не должно вызываться с вашей клиентской стороны
fetch('https://api.embeddable.com/api/v1/connections', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    Accept: 'application/json',
    Authorization: `Bearer ${apiKey}` /* сохраните свой API ключ в безопасности */,
  },
  body: JSON.stringify({
    name: 'my-clickhouse-db',
    type: 'clickhouse',
    credentials: {
      host: 'my.clickhouse.host',
      user: 'clickhouse_user',
      port: 8443,
      password: '*****',
    },
  }),
});


Response:
Status 201 { errorMessage: null }
```

Выше представлено действие `CREATE`, но доступны все операции `CRUD`.

`apiKey` можно найти, нажав "**Опубликовать**" на одной из ваших панелей инструментов Встраиваемого.

`name` - это уникальное имя для идентификации этого соединения.
- По умолчанию ваши модели данных будут искать соединение с именем "default", но вы можете предоставить своим моделям разные имена `data_source`, чтобы подключить разные модели данных к разным соединениям (просто укажите имя data_source в модели)

`type` сообщает Встраиваемому, какой драйвер использовать.

- Здесь вам потребуется использовать `clickhouse`, но вы можете подключить несколько разных источников данных к одному рабочему пространству Встраиваемого, так что вы можете использовать и другие, такие как: `postgres`, `bigquery`, `mongodb` и т.д.

`credentials` - это объект JavaScript, содержащий необходимые учетные данные, ожидаемые драйвером.
- Они надежно шифруются и используются только для получения ровно тех данных, которые вы описали в ваших моделях данных.
Встраиваемый настоятельно рекомендует создать пользователя базы данных только для чтения для каждого соединения (Встраиваемый будет только читать из вашей базы данных, а не записывать).

Чтобы поддерживать соединения с разными базами данных для prod, qa, test и т.д. (или поддерживать разные базы данных для разных клиентов), вы можете присвоить каждому соединению среду (см. [Environments API](https://docs.embeddable.com/data/environments)).
